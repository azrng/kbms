import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,o as t,d as i}from"./app-41nmD-Ik.js";const a="/kbms/common/1609382953604-5371870e-2405-4eed-90aa-d1c137af069f.png",s="/kbms/common/1609382927348-90ed680b-8f5c-428c-bac6-9cdc74301fab.png",o="/kbms/common/1609382927352-c50f6ce1-ba5d-46a1-9d45-15f7d3bd4277.png",r="/kbms/common/1609382927355-27180f4e-5aba-4eeb-93ef-2b658cccb386.png",g="/kbms/common/1609382927383-b6205298-020f-4b94-bb79-189a38e0f3c0.png",c={},l=i('<h2 id="_502bad-gateway" tabindex="-1"><a class="header-anchor" href="#_502bad-gateway"><span>502Bad Gateway</span></a></h2><p><img src="'+a+'" alt="image.png"> 原因是由于SELinux保护机制所导致，我们需要将nginx添加至SELinux的白名单。接下来我们通过一些命令解决这个问题。 运行下面的命令 yum install policycoreutils-python</p><p>sudo cat /var/log/audit/audit.log | grep nginx | grep denied | audit2allow -M mynginx</p><p>sudo semodule -i mynginx.pp</p><p>成功解决</p><h2 id="开启nginx进程失败" tabindex="-1"><a class="header-anchor" href="#开启nginx进程失败"><span>开启nginx进程失败</span></a></h2><p>错误示例图： <img src="'+s+'" alt="image.png"></p><p>我们查看进程： 命令：ps  -ef | grep nginx <img src="'+o+'" alt="image.png"> 现在停止nginx服务 命令：nginx -s stop <img src="'+r+'" alt="image.png"> 然后我们再次启用nginx进程： 命令：nginx -s reload 提示错误 <img src="'+g+`" alt="image.png"> 原因是： 没有nginx.pid 这个文件，每次当我们停止nginx时(nginx -s stop) ,nginx 会把 /usr/local/var/run/ 路径下名为nginx.pid 的文件删掉 解决方案： 方案一：可以直接启动nginx，重新生成nginx.pid就可以了： 命令:nginx 方案二：如果直接启动还是不可行，执行nginx -t查看nginx配置文件路径： 命令：nginx -t</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>nginx: the configuration file /usr/local/etc/nginx/nginx.conf syntax I s ok</span></span>
<span class="line"><span>nginx: configuration file /usr/local/etc/nginx/nginx.conf test is successful</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>指定一下conf文件</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span>nginx -c /usr/local/etc/nginx/nginx.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>再次重启nginx -s reload，就不会报错了。</p><p>资料：<a href="https://blog.csdn.net/quanqxj/article/details/89375436" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/quanqxj/article/details/89375436</a><a href="https://www.cnblogs.com/waynechou/p/7760251.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/waynechou/p/7760251.html</a></p>`,13),p=[l];function d(m,u){return t(),n("div",null,p)}const x=e(c,[["render",d],["__file","issue.html.vue"]]),f=JSON.parse('{"path":"/middleware/reverseProxy/nginx/issue.html","title":"Issue","lang":"zh-CN","frontmatter":{"title":"Issue","lang":"zh-CN","date":"2023-10-01T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["middleware"],"tag":["无"],"filename":"502badgateway","slug":"wu0827","docsId":"29395150","description":"502Bad Gateway image.png 原因是由于SELinux保护机制所导致，我们需要将nginx添加至SELinux的白名单。接下来我们通过一些命令解决这个问题。 运行下面的命令 yum install policycoreutils-python sudo cat /var/log/audit/audit.log | grep ngin...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/middleware/reverseProxy/nginx/issue.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"Issue"}],["meta",{"property":"og:description","content":"502Bad Gateway image.png 原因是由于SELinux保护机制所导致，我们需要将nginx添加至SELinux的白名单。接下来我们通过一些命令解决这个问题。 运行下面的命令 yum install policycoreutils-python sudo cat /var/log/audit/audit.log | grep ngin..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1609382953604-5371870e-2405-4eed-90aa-d1c137af069f.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-07T14:59:04.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-10-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-07T14:59:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Issue\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1609382953604-5371870e-2405-4eed-90aa-d1c137af069f.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609382927348-90ed680b-8f5c-428c-bac6-9cdc74301fab.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609382927352-c50f6ce1-ba5d-46a1-9d45-15f7d3bd4277.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609382927355-27180f4e-5aba-4eeb-93ef-2b658cccb386.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1609382927383-b6205298-020f-4b94-bb79-189a38e0f3c0.png\\"],\\"datePublished\\":\\"2023-10-01T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-07T14:59:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"502Bad Gateway","slug":"_502bad-gateway","link":"#_502bad-gateway","children":[]},{"level":2,"title":"开启nginx进程失败","slug":"开启nginx进程失败","link":"#开启nginx进程失败","children":[]}],"git":{"createdTime":1697724028000,"updatedTime":1715093944000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":1.11,"words":334},"filePathRelative":"middleware/reverseProxy/nginx/issue.md","localizedDate":"2023年10月1日","excerpt":"<h2>502Bad Gateway</h2>\\n<p><img src=\\"/common/1609382953604-5371870e-2405-4eed-90aa-d1c137af069f.png\\" alt=\\"image.png\\">\\n原因是由于SELinux保护机制所导致，我们需要将nginx添加至SELinux的白名单。接下来我们通过一些命令解决这个问题。\\n运行下面的命令\\nyum install policycoreutils-python</p>\\n<p>sudo cat /var/log/audit/audit.log | grep nginx | grep denied | audit2allow -M mynginx</p>","autoDesc":true}');export{x as comp,f as data};
