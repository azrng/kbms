import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as s,b as e}from"./app-qB9_Bjjp.js";const t="/kbms/common/3f6e1b41bcc3ca1f189628dd9a945f2b.png",i="/kbms/common/622ebca928c7e3d4d71ad0dde8a5e6e8.png",o="/kbms/common/5f979423c86b26d8f65949132a58140f.png",p="/kbms/common/4ddf3e95a4ca3a067bea16976070e357.png",c="/kbms/common/2975be64fdd03dda401f5c7041cb7db4.png",l="/kbms/common/db60b7117f8f835ddc28cd0332523037.png",d="/kbms/common/cdfdf127327f9ec4630c472dd9196d45.png",r="/kbms/common/99d373511e213ee7714df39e2c729607.png",m="/kbms/common/eaae8cb2c73bd6479c53b1ea9c65dbd4.png",k="/kbms/common/d90f9f730397b13e1274c8858eab59e6.png",u="/kbms/common/96455140335920f5b3774a03d8502192.png",g="/kbms/common/6734ed2f7194626ceb4e2310d0cedc55.png",b="/kbms/common/2af153aed61fb9a896cec686f6a7b8cd.png",U="/kbms/common/45815047389565409f8c9bf4ca93900c.png",R="/kbms/common/cc1bd801d1e69ac3293a5cb3ba388284.png",h={},f=e('<h2 id="autok3s" tabindex="-1"><a class="header-anchor" href="#autok3s"><span>AutoK3s</span></a></h2><p>AutoK3s 是一款 K3s 集群自动化部署和管理工具，可以方便开发者自助管理多云环境中的 K3s 集群。可以用来安装K3s，也可以通过管理K3s集群。</p><p>文档地址：https://docs.rancher.cn/docs/k3s/autok3s/_index</p><p>以下是一些 autok3s 提供的功能和优势：</p><ol><li>一键式集群创建：autok3s 提供了一个简洁的命令行接口，可以通过指定一些参数和选项，快速创建一个全新的 Kubernetes 集群。</li><li>多云服务提供商支持：autok3s 支持多种云服务提供商，如 AWS、Azure、阿里云等，可以方便地在这些云平台上创建和管理集群。</li><li>简化配置和管理：autok3s 提供了一些默认配置和自动化选项，可以减少手动操作和配置的复杂性。</li><li>集群扩展和升级：通过 autok3s，你可以通过简单的命令来扩展集群规模或者升级到新版本，而无需手动执行复杂的操作。</li><li>集成其他工具：autok3s 可以与其他工具和服务进行集成，如 Traefik、Metallb 等，以增强集群的功能和性能。</li></ol><h3 id="准备工作" tabindex="-1"><a class="header-anchor" href="#准备工作"><span>准备工作</span></a></h3><p>1.准备俩台可以相互访问的服务器</p><p>2.需要先安装dockers</p><p>3.以下教程将使用VsCode+ssh插件来进行插件图</p><figure><img src="'+t+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>ssh连接到俩台服务器，点击打开ssh操作界面</p><figure><img src="'+i+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="安装autok3s" tabindex="-1"><a class="header-anchor" href="#安装autok3s"><span>安装autok3s</span></a></h3><p>进入需要设置master节点的服务器中然后执行docker命令启动一个autok3s的容器并且需要将docker映射进去 注：如果选择使用docker做为k3s的运行容器必须映射docker进去</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token parameter variable">--name</span> autok3s <span class="token parameter variable">--net</span><span class="token operator">=</span>host <span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock cnrancher/autok3s:v0.5.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>容器启动完成以后访问地址 <code>&lt;ip&gt;:8080</code> 然后点击Core/Clusters</p><figure><img src="`+o+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>点击Create创建一个Cluster</p><figure><img src="'+p+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>Provider选择Native</p><figure><img src="'+c+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>安装的基本参数设置 设置master节点ip 设置node节点ip 俩台服务器密码需要一致</p><figure><img src="'+l+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>设置k3s options</p><figure><img src="'+d+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>点击右下角的create</p><figure><img src="'+r+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>等待k3s安装部署完成 需要很长一段时间</p><figure><img src="'+m+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="安装kuboard管理界面" tabindex="-1"><a class="header-anchor" href="#安装kuboard管理界面"><span>安装kuboard管理界面</span></a></h2><p>文档地址：https://kuboard.cn/install/v3/install-built-in.html</p><p>我们可以先安装k3s的管理界面，安装我们的kuboard管理界面</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token parameter variable">-p</span> <span class="token number">8088</span>:80 <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> kuboard <span class="token parameter variable">-e</span> <span class="token assign-left variable">KUBOARD_AGENT_SERVER_TCP_PORT</span><span class="token operator">=</span><span class="token number">8088</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">KUBOARD_ENDPOINT</span><span class="token operator">=</span>https://172.27.176.1  <span class="token parameter variable">-v</span> /root/kuboard-data:/data  eipwork/kuboard:v3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后访问<code>ip:8088</code>我们可以看到kuboard的界面</p><ul><li>默认账号：admin</li><li>默认密码：Kuboard123</li></ul><figure><img src="`+k+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>登录成功进入界面 等待k3s安装完成 点击Kubernetes的添加集群</p><figure><img src="'+u+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>点击 .kubeconfig</p><figure><img src="'+g+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>找到master节点下的k3s配置，路径 /etc/rancher/k3s/k3s.yaml，通过命令查看内容</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">cat</span>  /etc/rancher/k3s/k3s.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>修改内部的server ip为master节点的ip</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">clusters</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">cluster</span><span class="token punctuation">:</span>
    <span class="token key atrule">certificate-authority-data</span><span class="token punctuation">:</span> LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJkekNDQVIyZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQWpNU0V3SHdZRFZRUUREQmhyTTNNdGMyVnkKZG1WeUxXTmhRREUyTmpReU1ESTBNRGd3SGhjTk1qSXdPVEkyTVRReU5qUTRXaGNOTXpJd09USXpNVFF5TmpRNApXakFqTVNFd0h3WURWUVFEREJock0zTXRjMlZ5ZG1WeUxXTmhRREUyTmpReU1ESTBNRGd3V1RBVEJnY3Foa2pPClBRSUJCZ2dxaGtqT1BRTUJCd05DQUFRdmJOZEdiNDAvWmR4L2JiRjgzZXZObGFsUFVXTm5KMmp6UFZoT0k4VXAKR1QyeXQ1b0FCTEs2a0diWnVEbkowTE9GYnBudXZFMUkyRFl0d2RxMmh3YnFvMEl3UURBT0JnTlZIUThCQWY4RQpCQU1DQXFRd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVXA1YU5GZlU5U0R3dFVoQlZJVTNUCkc4UTgwa293Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloQUlxcVhMNFBVa0xsdld3T3hmZ3M2NFNhSHBobFgvaW8KVFJJME9MdnR5VmRXQWlBcFhrcndLRmZBYmFmSDNkZnNjY0dIbGYvdVpMbTJaNG1WeURRZmE4dUtPUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    <span class="token key atrule">server</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//192.168.1.11<span class="token punctuation">:</span><span class="token number">6443</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> default
<span class="token key atrule">contexts</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">context</span><span class="token punctuation">:</span>
    <span class="token key atrule">cluster</span><span class="token punctuation">:</span> default
    <span class="token key atrule">user</span><span class="token punctuation">:</span> default
  <span class="token key atrule">name</span><span class="token punctuation">:</span> default
<span class="token key atrule">current-context</span><span class="token punctuation">:</span> default
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Config
<span class="token key atrule">preferences</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token key atrule">users</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> default
  <span class="token key atrule">user</span><span class="token punctuation">:</span>
    <span class="token key atrule">client-certificate-data</span><span class="token punctuation">:</span> LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJrVENDQVRlZ0F3SUJBZ0lJQ0NjT1VkbCtEZzR3Q2dZSUtvWkl6ajBFQXdJd0l6RWhNQjhHQTFVRUF3d1kKYXpOekxXTnNhV1Z1ZEMxallVQXhOalkwTWpBeU5EQTRNQjRYRFRJeU1Ea3lOakUwTWpZME9Gb1hEVEl6TURreQpOakUwTWpZME9Gb3dNREVYTUJVR0ExVUVDaE1PYzNsemRHVnRPbTFoYzNSbGNuTXhGVEFUQmdOVkJBTVRESE41CmMzUmxiVHBoWkcxcGJqQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VIQTBJQUJJQWZuSncrVVVOaUdsN3QKWGhMUFZDTUpyWHIraFUvWVU4SVNoRVNtQktucng0eWZ4NUQ3TnpTdkR5YUdldjk3SVJDUGlKUktvaENFMGlnMwp1Z3I5b1RlalNEQkdNQTRHQTFVZER3RUIvd1FFQXdJRm9EQVRCZ05WSFNVRUREQUtCZ2dyQmdFRkJRY0RBakFmCkJnTlZIU01FR0RBV2dCU1lxTHlEK2tzMjhidVBSMUx2RTZDN1hGV2U5REFLQmdncWhrak9QUVFEQWdOSUFEQkYKQWlBTW5HekViQUx2K2dUZUxFc1M5T1dyOWNrRXhDMUVHT2FBSDBpemdCb2R4UUloQU1xSDFZeUU5N0ZFeXh0Kwp5aHlMaWYxb3A3alcrcHFIakRNT1VTQzg0SGtsCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJkakNDQVIyZ0F3SUJBZ0lCQURBS0JnZ3Foa2pPUFFRREFqQWpNU0V3SHdZRFZRUUREQmhyTTNNdFkyeHAKWlc1MExXTmhRREUyTmpReU1ESTBNRGd3SGhjTk1qSXdPVEkyTVRReU5qUTRXaGNOTXpJd09USXpNVFF5TmpRNApXakFqTVNFd0h3WURWUVFEREJock0zTXRZMnhwWlc1MExXTmhRREUyTmpReU1ESTBNRGd3V1RBVEJnY3Foa2pPClBRSUJCZ2dxaGtqT1BRTUJCd05DQUFSQzlKYUppZUVlSHZBVUU5NzA5d3lRUjBQbTgrWlZteis0enpNS1ZZTGYKVDl6and2NUJUUGJoazlFNXh3c3I0Zkg2Zkw5RnI0QWtsZW1HSEhicWJIQ1VvMEl3UURBT0JnTlZIUThCQWY4RQpCQU1DQXFRd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdRVW1LaThnL3BMTnZHN2owZFM3eE9nCnUxeFZudlF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnZHFhbVpNMUttUzlnT1E2d0k4SWh3UDAvY05XV1ZQeEsKNUF4eU03elRiTElDSUdBOUZWa0hPTDAyN05WaFd4MngydnNtdkNOLzZoa2RGVnhJOFMwM05IUkoKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    <span class="token key atrule">client-key-data</span><span class="token punctuation">:</span> LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUd6VldKY1JpUkljLzFWTnc0UGRKckZFbEk2cisyUkdWWDJMQ0tsZldibnRvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZ0IrY25ENVJRMklhWHUxZUVzOVVJd210ZXY2RlQ5aFR3aEtFUktZRXFldkhqSi9Ia1BzMwpOSzhQSm9aNi8zc2hFSStJbEVxaUVJVFNLRGU2Q3YyaE53PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将其复制到 KubeConfig 里面 填写名称和描述 然后点击确定</p><figure><img src="`+b+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>点击确认以后进入这个界面 然后选择kuboard-admin 再点击集群概要</p><figure><img src="'+U+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>进入到kuboard的管理界面就完成了 如果node节点的服务器并没有加入到master节点请查阅资料</p><figure><img src="'+R+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档"><span>参考文档</span></a></h2><p>https://blog.csdn.net/xiaohucxy/article/details/127062757 | k3s部署全过程kuboard管理界面_k3s 界面管理_token-go的博客-CSDN博客</p><p>使用autok3s来安装k3s：https://mp.weixin.qq.com/s/GCSWJrwJgNA9D0-l__Yojw</p>',53),F=[f];function T(v,V){return n(),s("div",null,F)}const N=a(h,[["render",T],["__file","k3sDeployKuboard.html.vue"]]),y=JSON.parse('{"path":"/cloud/k3s/k3sDeployKuboard.html","title":"k3s其他内容安装","lang":"zh-CN","frontmatter":{"title":"k3s其他内容安装","lang":"zh-CN","date":"2023-08-05T00:00:00.000Z","publish":true,"author":"token-go","isOriginal":false,"category":["dotNet"],"tag":["k3s"],"filename":"k3s","docsId":"479c4bdc-c5db-4824-adbe-71502349a498","description":"AutoK3s AutoK3s 是一款 K3s 集群自动化部署和管理工具，可以方便开发者自助管理多云环境中的 K3s 集群。可以用来安装K3s，也可以通过管理K3s集群。 文档地址：https://docs.rancher.cn/docs/k3s/autok3s/_index 以下是一些 autok3s 提供的功能和优势： 一键式集群创建：autok3...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/cloud/k3s/k3sDeployKuboard.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"k3s其他内容安装"}],["meta",{"property":"og:description","content":"AutoK3s AutoK3s 是一款 K3s 集群自动化部署和管理工具，可以方便开发者自助管理多云环境中的 K3s 集群。可以用来安装K3s，也可以通过管理K3s集群。 文档地址：https://docs.rancher.cn/docs/k3s/autok3s/_index 以下是一些 autok3s 提供的功能和优势： 一键式集群创建：autok3..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/3f6e1b41bcc3ca1f189628dd9a945f2b.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-12-31T04:07:20.000Z"}],["meta",{"property":"article:author","content":"token-go"}],["meta",{"property":"article:tag","content":"k3s"}],["meta",{"property":"article:published_time","content":"2023-08-05T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-12-31T04:07:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"k3s其他内容安装\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/3f6e1b41bcc3ca1f189628dd9a945f2b.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/622ebca928c7e3d4d71ad0dde8a5e6e8.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/5f979423c86b26d8f65949132a58140f.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/4ddf3e95a4ca3a067bea16976070e357.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/2975be64fdd03dda401f5c7041cb7db4.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/db60b7117f8f835ddc28cd0332523037.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/cdfdf127327f9ec4630c472dd9196d45.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/99d373511e213ee7714df39e2c729607.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/eaae8cb2c73bd6479c53b1ea9c65dbd4.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/d90f9f730397b13e1274c8858eab59e6.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/96455140335920f5b3774a03d8502192.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/6734ed2f7194626ceb4e2310d0cedc55.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/2af153aed61fb9a896cec686f6a7b8cd.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/45815047389565409f8c9bf4ca93900c.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/cc1bd801d1e69ac3293a5cb3ba388284.png\\"],\\"datePublished\\":\\"2023-08-05T00:00:00.000Z\\",\\"dateModified\\":\\"2023-12-31T04:07:20.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"token-go\\"}]}"]]},"headers":[{"level":2,"title":"AutoK3s","slug":"autok3s","link":"#autok3s","children":[{"level":3,"title":"准备工作","slug":"准备工作","link":"#准备工作","children":[]},{"level":3,"title":"安装autok3s","slug":"安装autok3s","link":"#安装autok3s","children":[]}]},{"level":2,"title":"安装kuboard管理界面","slug":"安装kuboard管理界面","link":"#安装kuboard管理界面","children":[]},{"level":2,"title":"参考文档","slug":"参考文档","link":"#参考文档","children":[]}],"git":{"createdTime":1691235720000,"updatedTime":1703995640000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":3}]},"readingTime":{"minutes":3.03,"words":908},"filePathRelative":"cloud/k3s/k3sDeployKuboard.md","localizedDate":"2023年8月5日","excerpt":"<h2>AutoK3s</h2>\\n<p>AutoK3s 是一款 K3s 集群自动化部署和管理工具，可以方便开发者自助管理多云环境中的 K3s 集群。可以用来安装K3s，也可以通过管理K3s集群。</p>\\n<p>文档地址：https://docs.rancher.cn/docs/k3s/autok3s/_index</p>\\n<p>以下是一些 autok3s 提供的功能和优势：</p>\\n<ol>\\n<li>一键式集群创建：autok3s 提供了一个简洁的命令行接口，可以通过指定一些参数和选项，快速创建一个全新的 Kubernetes 集群。</li>\\n<li>多云服务提供商支持：autok3s 支持多种云服务提供商，如 AWS、Azure、阿里云等，可以方便地在这些云平台上创建和管理集群。</li>\\n<li>简化配置和管理：autok3s 提供了一些默认配置和自动化选项，可以减少手动操作和配置的复杂性。</li>\\n<li>集群扩展和升级：通过 autok3s，你可以通过简单的命令来扩展集群规模或者升级到新版本，而无需手动执行复杂的操作。</li>\\n<li>集成其他工具：autok3s 可以与其他工具和服务进行集成，如 Traefik、Metallb 等，以增强集群的功能和性能。</li>\\n</ol>","autoDesc":true}');export{N as comp,y as data};
