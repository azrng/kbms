import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o,c,a as s,d as n,e as t,b as l}from"./app-Bw62I61B.js";const i={},u={href:"https://fineuploader.com/",target:"_blank",rel:"noopener noreferrer"},r={href:"http://fex.baidu.com/webuploader/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.cnblogs.com/xiongze520/p/10412693.html",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/kartik-v/bootstrap-fileinput",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/pqina/filepond-polyfill/tree/master/dist",target:"_blank",rel:"noopener noreferrer"},b={href:"http://f2ex.cn/filepond-javascript-file-upload-library/",target:"_blank",rel:"noopener noreferrer"},v={href:"https://pqina.nl/filepond/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.cnblogs.com/linjiqin/p/3530848.html",target:"_blank",rel:"noopener noreferrer"},f=l(`<div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ProcessRequest</span><span class="token punctuation">(</span><span class="token class-name">HttpContext</span> context<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>ContentType <span class="token operator">=</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span>
            <span class="token punctuation">{</span>
                <span class="token comment">//如果报 接口请求上传接口异常错误  那么是这个页面没有返回值</span>
                <span class="token class-name">HttpFileCollection</span> file <span class="token operator">=</span> context<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Files<span class="token punctuation">;</span><span class="token comment">//获取选中文件</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> file<span class="token punctuation">.</span>Count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">string</span><span class="token punctuation">.</span><span class="token function">IsNullOrEmpty</span><span class="token punctuation">(</span>file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>FileName<span class="token punctuation">)</span> <span class="token operator">||</span> file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ContentLength <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        <span class="token comment">//不存在的情况</span>
                       context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token class-name"><span class="token keyword">string</span></span> local <span class="token operator">=</span> <span class="token string">&quot;images\\\\up\\\\&quot;</span> <span class="token operator">+</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;yyyyMMdd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name"><span class="token keyword">string</span></span> localPath <span class="token operator">=</span> Path<span class="token punctuation">.</span><span class="token function">Combine</span><span class="token punctuation">(</span>HttpRuntime<span class="token punctuation">.</span>AppDomainAppPath<span class="token punctuation">,</span> local<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//判断目录是否存在</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>Directory<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>localPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//判断目录是否存在</span>
                    <span class="token punctuation">{</span>
                       System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>Directory<span class="token punctuation">.</span><span class="token function">CreateDirectory</span><span class="token punctuation">(</span>localPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token class-name"><span class="token keyword">string</span></span> filePathName <span class="token operator">=</span> <span class="token keyword">string</span><span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>
                    <span class="token comment">//文件的物理路径</span>
                    <span class="token class-name"><span class="token keyword">string</span></span> tmpName <span class="token operator">=</span> System<span class="token punctuation">.</span>Web<span class="token punctuation">.</span>HttpContext<span class="token punctuation">.</span>Current<span class="token punctuation">.</span>Server<span class="token punctuation">.</span><span class="token function">MapPath</span><span class="token punctuation">(</span><span class="token string">&quot;~/images/up/&quot;</span> <span class="token operator">+</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;yyyyMMdd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">//判断文件是否存在</span>
                    <span class="token class-name"><span class="token keyword">string</span></span> tmp <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;yyyyMMddHHmmss&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token punctuation">;</span>
                    <span class="token keyword">while</span> <span class="token punctuation">(</span>System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>File<span class="token punctuation">.</span><span class="token function">Exists</span><span class="token punctuation">(</span>tmpName <span class="token operator">+</span> tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        tmp <span class="token operator">=</span> tmp <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token comment">//不带路径的最终文件名</span>
                    filePathName <span class="token operator">=</span> tmp <span class="token operator">+</span> <span class="token string">&quot;.jpg&quot;</span><span class="token punctuation">;</span>
                   file<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">SaveAs</span><span class="token punctuation">(</span>Path<span class="token punctuation">.</span><span class="token function">Combine</span><span class="token punctuation">(</span>localPath<span class="token punctuation">,</span> filePathName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//保存图片</span>
                   context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">finally</span>
            <span class="token punctuation">{</span>
 
            <span class="token punctuation">}</span>
 
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对上传的文件生成唯一Md5码</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">HttpPostedFile</span> file <span class="token operator">=</span> HttpContext<span class="token punctuation">.</span>Current<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Files<span class="token punctuation">[</span><span class="token string">&quot;file&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//接收</span>
                <span class="token class-name"><span class="token keyword">string</span></span> ext <span class="token operator">=</span> Path<span class="token punctuation">.</span><span class="token function">GetExtension</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>FileName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//文件后缀名</span>
                <span class="token class-name">Stream</span> s <span class="token operator">=</span> file<span class="token punctuation">.</span>InputStream<span class="token punctuation">;</span><span class="token comment">//文件流</span>
                <span class="token class-name">MD5</span> md5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">MD5CryptoServiceProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> retVal <span class="token operator">=</span> md5<span class="token punctuation">.</span><span class="token function">ComputeHash</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">StringBuilder</span> sb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> retVal<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                   sb<span class="token punctuation">.</span><span class="token function">Append</span><span class="token punctuation">(</span>retVal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token string">&quot;x2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token class-name"><span class="token keyword">string</span></span> Md5res <span class="token operator">=</span> sb<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//上面的代码是为了生成文件唯一的MD5码</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p>`,4);function g(y,w){const a=p("ExternalLinkIcon");return o(),c("div",null,[s("p",null,[n("1.fine-uploader上传 可以添加不同的上传样式模板，是一个纯javascript基于浏览器的文件上传库，目前不知道该如何自定义模板。 插件地址："),s("a",u,[n("https://fineuploader.com/"),t(a)]),n("  2.html5上传 使用jQuery.upload.min.js然后采用base64进行上传，自带的上传不用弄，有bug，所以暂时只能base64上传 3.js上传 页面可能比较简陋 4.原生js压缩图片上传 5.利用KindEditor富文本编辑器自带的上传进行上传图片 6.利用layui的上传接口进行上传 7.webuploader上传，百度团队开发的，兼容ie6  推荐 地址："),s("a",r,[n("http://fex.baidu.com/webuploader/"),t(a)]),s("a",k,[n("大文件分片上传断网续传秒传"),t(a)]),n(" 8.利用bootstrap的fileinput上传 插件地址："),s("a",d,[n("https://github.com/kartik-v/bootstrap-fileinput"),t(a)]),n(" 9.Filepond上传图片 没有研究透，还不能用 对于ie方面，要求ie11，并且需要安装"),s("a",m,[n("filepond-polyfill"),t(a)]),n("文件。 插件地址："),s("a",b,[n("http://f2ex.cn/filepond-javascript-file-upload-library/"),t(a)]),s("a",v,[n("https://pqina.nl/filepond/"),t(a)]),n(" 10.ajaxfileupload.js上传图片 参考："),s("a",h,[n("https://www.cnblogs.com/linjiqin/p/3530848.html"),t(a)]),n(" jQuery图片预览插件imgPreview 、拖拽上传与图像预览插件Dropzone.js     一般处理程序")]),f])}const q=e(i,[["render",g],["__file","wenjianshangchuan.html.vue"]]),x=JSON.parse('{"path":"/dotnet/webyingyong/webform/wenjianshangchuan/wenjianshangchuan.html","title":"文件上传","lang":"zh-CN","frontmatter":{"title":"文件上传","lang":"zh-CN","date":"2021-09-03T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dotNET"],"tag":["无"],"filename":"wenjianshangchuan","slug":"tb3g9h","docsId":"31541433","description":"1.fine-uploader上传 可以添加不同的上传样式模板，是一个纯javascript基于浏览器的文件上传库，目前不知道该如何自定义模板。 插件地址：https://fineuploader.com/ 2.html5上传 使用jQuery.upload.min.js然后采用base64进行上传，自带的上传不用弄，有bug，所以暂时只能base64...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dotnet/webyingyong/webform/wenjianshangchuan/wenjianshangchuan.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"文件上传"}],["meta",{"property":"og:description","content":"1.fine-uploader上传 可以添加不同的上传样式模板，是一个纯javascript基于浏览器的文件上传库，目前不知道该如何自定义模板。 插件地址：https://fineuploader.com/ 2.html5上传 使用jQuery.upload.min.js然后采用base64进行上传，自带的上传不用弄，有bug，所以暂时只能base64..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-22T08:11:43.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2021-09-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-22T08:11:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"文件上传\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-09-03T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-22T08:11:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[],"git":{"createdTime":1697962303000,"updatedTime":1697962303000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":1.92,"words":575},"filePathRelative":"dotnet/webyingyong/webform/wenjianshangchuan/wenjianshangchuan.md","localizedDate":"2021年9月3日","excerpt":"<p>1.fine-uploader上传\\n可以添加不同的上传样式模板，是一个纯javascript基于浏览器的文件上传库，目前不知道该如何自定义模板。\\n插件地址：<a href=\\"https://fineuploader.com/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://fineuploader.com/</a>&nbsp;\\n2.html5上传\\n使用jQuery.upload.min.js然后采用base64进行上传，自带的上传不用弄，有bug，所以暂时只能base64上传\\n3.js上传\\n页面可能比较简陋\\n4.原生js压缩图片上传\\n5.利用KindEditor富文本编辑器自带的上传进行上传图片\\n6.利用layui的上传接口进行上传\\n7.webuploader上传，百度团队开发的，兼容ie6&nbsp; 推荐\\n地址：<a href=\\"http://fex.baidu.com/webuploader/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://fex.baidu.com/webuploader/</a>\\n<a href=\\"https://www.cnblogs.com/xiongze520/p/10412693.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">大文件分片上传断网续传秒传</a>\\n8.利用bootstrap的fileinput上传\\n插件地址：<a href=\\"https://github.com/kartik-v/bootstrap-fileinput\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/kartik-v/bootstrap-fileinput</a>\\n9.Filepond上传图片\\n没有研究透，还不能用\\n对于ie方面，要求ie11，并且需要安装<a href=\\"https://github.com/pqina/filepond-polyfill/tree/master/dist\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">filepond-polyfill</a>文件。\\n插件地址：<a href=\\"http://f2ex.cn/filepond-javascript-file-upload-library/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://f2ex.cn/filepond-javascript-file-upload-library/</a>\\n<a href=\\"https://pqina.nl/filepond/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://pqina.nl/filepond/</a>\\n10.ajaxfileupload.js上传图片\\n参考：<a href=\\"https://www.cnblogs.com/linjiqin/p/3530848.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://www.cnblogs.com/linjiqin/p/3530848.html</a>\\njQuery图片预览插件imgPreview 、拖拽上传与图像预览插件Dropzone.js\\n&nbsp;\\n&nbsp;\\n一般处理程序</p>","autoDesc":true}');export{q as comp,x as data};
