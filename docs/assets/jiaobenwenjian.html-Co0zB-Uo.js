import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,b as e}from"./app-qB9_Bjjp.js";const p={},t=e(`<h3 id="创建sh执行" tabindex="-1"><a class="header-anchor" href="#创建sh执行"><span>创建sh执行</span></a></h3><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">FROM</span> node<span class="token punctuation">:</span>latest

WORKDIR <span class="token operator">/</span>
COPY <span class="token punctuation">.</span> <span class="token punctuation">.</span>

<span class="token preprocessor property">## RUN curl -f https://get.pnpm.io/v6.16.js | node - add --global pnpm@7</span>
<span class="token preprocessor property">## RUN pnpm config set store-dir .pnpm-store</span>

RUN npm install <span class="token operator">-</span>g pnpm
RUN pnpm config <span class="token keyword">set</span> <span class="token class-name">registry</span> https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org<span class="token operator">/</span>

<span class="token preprocessor property">## pnpm docs:build --dest public \\n\\</span>

<span class="token preprocessor property">## RUN echo &quot;#!/bin/sh \\n\\</span>
<span class="token preprocessor property">## echo </span><span class="token string">&quot;npm install&quot;</span> \\n\\
<span class="token preprocessor property">## pnpm install --frozen-lockfile \\n\\</span>
<span class="token preprocessor property">## pnpm run docs:dev  \\n\\</span>
<span class="token preprocessor property">## &quot; &gt;&gt; /usr/local/bin/entrypoint.sh</span>

RUN echo &quot;#<span class="token operator">!</span><span class="token operator">/</span>bin<span class="token operator">/</span>sh \\n\\
echo <span class="token string">&quot;pnpm install&quot;</span> \\n\\
pnpm install \\n\\
pnpm <span class="token class-name">run</span> docs<span class="token punctuation">:</span>dev  \\n\\
&quot; <span class="token operator">&gt;&gt;</span> <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span class="token operator">/</span>entrypoint<span class="token punctuation">.</span>sh

RUN chmod <span class="token operator">+</span>x <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>bin<span class="token operator">/</span>entrypoint<span class="token punctuation">.</span>sh
EXPOSE <span class="token number">80</span><span class="token operator">/</span>tcp

ENTRYPOINT <span class="token punctuation">[</span><span class="token string">&quot;/usr/local/bin/entrypoint.sh&quot;</span><span class="token punctuation">]</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="直接运行" tabindex="-1"><a class="header-anchor" href="#直接运行"><span>直接运行</span></a></h3><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name">FROM</span> node<span class="token punctuation">:</span>latest

RUN mkdir <span class="token operator">-</span>p <span class="token operator">/</span>home<span class="token operator">/</span>nodeApp
COPY <span class="token punctuation">.</span> <span class="token operator">/</span>home<span class="token operator">/</span>nodeApp
WORKDIR <span class="token operator">/</span>home<span class="token operator">/</span>nodeApp
RUN npm install <span class="token operator">-</span>g pnpm <span class="token operator">&amp;&amp;</span> pnpm config <span class="token keyword">set</span> <span class="token class-name">registry</span> https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org <span class="token operator">&amp;&amp;</span> pnpm install
ENV HOST <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span>
ENV PORT <span class="token number">8080</span>
EXPOSE <span class="token number">8080</span>
CMD <span class="token punctuation">[</span><span class="token string">&quot;pnpm&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;run&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;docs:dev&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),o=[t];function r(c,l){return s(),a("div",null,o)}const d=n(p,[["render",r],["__file","jiaobenwenjian.html.vue"]]),m=JSON.parse('{"path":"/web/npm/bushu/jiaobenwenjian.html","title":"脚本文件","lang":"zh-CN","frontmatter":{"title":"脚本文件","lang":"zh-CN","date":"2023-08-01T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["web"],"tag":["无"],"filename":"jiaobenwenjian","slug":"kd80dkwf60qxvzxk","docsId":"117077699","description":"创建sh执行 直接运行","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/web/npm/bushu/jiaobenwenjian.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"脚本文件"}],["meta",{"property":"og:description","content":"创建sh执行 直接运行"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-08-19T10:58:50.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-08-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-08-19T10:58:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"脚本文件\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-08-01T00:00:00.000Z\\",\\"dateModified\\":\\"2023-08-19T10:58:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":3,"title":"创建sh执行","slug":"创建sh执行","link":"#创建sh执行","children":[]},{"level":3,"title":"直接运行","slug":"直接运行","link":"#直接运行","children":[]}],"git":{"createdTime":1692442730000,"updatedTime":1692442730000,"contributors":[{"name":"zhangyunpeng","email":"zhang.yunpeng@synyi.com","commits":1}]},"readingTime":{"minutes":0.55,"words":164},"filePathRelative":"web/npm/bushu/jiaobenwenjian.md","localizedDate":"2023年8月1日","excerpt":"<h3>创建sh执行</h3>\\n<div class=\\"language-csharp\\" data-ext=\\"cs\\" data-title=\\"cs\\"><pre class=\\"language-csharp\\"><code><span class=\\"token class-name\\">FROM</span> node<span class=\\"token punctuation\\">:</span>latest\\n\\nWORKDIR <span class=\\"token operator\\">/</span>\\nCOPY <span class=\\"token punctuation\\">.</span> <span class=\\"token punctuation\\">.</span>\\n\\n<span class=\\"token preprocessor property\\">## RUN curl -f https://get.pnpm.io/v6.16.js | node - add --global pnpm@7</span>\\n<span class=\\"token preprocessor property\\">## RUN pnpm config set store-dir .pnpm-store</span>\\n\\nRUN npm install <span class=\\"token operator\\">-</span>g pnpm\\nRUN pnpm config <span class=\\"token keyword\\">set</span> <span class=\\"token class-name\\">registry</span> https<span class=\\"token punctuation\\">:</span><span class=\\"token operator\\">/</span><span class=\\"token operator\\">/</span>registry<span class=\\"token punctuation\\">.</span>npm<span class=\\"token punctuation\\">.</span>taobao<span class=\\"token punctuation\\">.</span>org<span class=\\"token operator\\">/</span>\\n\\n<span class=\\"token preprocessor property\\">## pnpm docs:build --dest public \\\\n\\\\</span>\\n\\n<span class=\\"token preprocessor property\\">## RUN echo \\"#!/bin/sh \\\\n\\\\</span>\\n<span class=\\"token preprocessor property\\">## echo </span><span class=\\"token string\\">\\"npm install\\"</span> \\\\n\\\\\\n<span class=\\"token preprocessor property\\">## pnpm install --frozen-lockfile \\\\n\\\\</span>\\n<span class=\\"token preprocessor property\\">## pnpm run docs:dev  \\\\n\\\\</span>\\n<span class=\\"token preprocessor property\\">## \\" &gt;&gt; /usr/local/bin/entrypoint.sh</span>\\n\\nRUN echo \\"#<span class=\\"token operator\\">!</span><span class=\\"token operator\\">/</span>bin<span class=\\"token operator\\">/</span>sh \\\\n\\\\\\necho <span class=\\"token string\\">\\"pnpm install\\"</span> \\\\n\\\\\\npnpm install \\\\n\\\\\\npnpm <span class=\\"token class-name\\">run</span> docs<span class=\\"token punctuation\\">:</span>dev  \\\\n\\\\\\n\\" <span class=\\"token operator\\">&gt;&gt;</span> <span class=\\"token operator\\">/</span>usr<span class=\\"token operator\\">/</span>local<span class=\\"token operator\\">/</span>bin<span class=\\"token operator\\">/</span>entrypoint<span class=\\"token punctuation\\">.</span>sh\\n\\nRUN chmod <span class=\\"token operator\\">+</span>x <span class=\\"token operator\\">/</span>usr<span class=\\"token operator\\">/</span>local<span class=\\"token operator\\">/</span>bin<span class=\\"token operator\\">/</span>entrypoint<span class=\\"token punctuation\\">.</span>sh\\nEXPOSE <span class=\\"token number\\">80</span><span class=\\"token operator\\">/</span>tcp\\n\\nENTRYPOINT <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"/usr/local/bin/entrypoint.sh\\"</span><span class=\\"token punctuation\\">]</span>\\n\\n</code></pre></div>","autoDesc":true}');export{d as comp,m as data};
