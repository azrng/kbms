import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as e,o as n}from"./app-BQsqMNmR.js";const l="/kbms/common/1637482333425-1f07bddf-0022-44f5-a34f-106b1475d427.png",t="/kbms/common/1637482430045-868f2cbb-8cc6-4183-8a1e-6113b19da5ed.png",h="/kbms/common/1638105481946-d4164f28-5a4b-49f3-9f03-a2d5b26f233f.png",p="/kbms/common/1638105859842-2a84efb3-ae48-40cd-8dc6-e0cd2dd6c204.png",r="/kbms/common/1625561623327-a03b2a4a-af6b-4ca0-bded-a7580fa2639a.png",k="/kbms/common/1638105959936-47da0a5c-8f7a-4065-a550-4fa2a595bf4a.png",d="/kbms/common/1638106012325-c7432af6-7d32-48bc-881f-96e0c2e69eff.png",g="/kbms/common/1638106178316-52df4385-d172-42ec-95df-0914bee75d6e.png",c="/kbms/common/1625556612495-8138ac2a-aa61-4fcc-a0c1-78e51d79b25d.png",o="/kbms/common/1625566538915-00ce0abd-ddd5-4dc6-b393-acbcd09c6b5c.png",A="/kbms/common/1625566606698-38c4eff0-ccff-4916-9ab4-0937c36efe7a.png",m="/kbms/common/1625566663689-561f175c-73de-4958-bee6-bb7e7070b91b.png",b="/kbms/common/1625566691712-45a1c4c4-0d3d-4383-9f66-828834e498ec.png",y={};function u(B,i){return n(),a("div",null,i[0]||(i[0]=[e('<h2 id="_1-开篇语" tabindex="-1"><a class="header-anchor" href="#_1-开篇语"><span>1. 开篇语</span></a></h2><p>环境：windows10、.NetCore 3.x +<br> 该文章已经写了好久了，当初时候不懂得二进制包的用法，然后直接安装的go环境使用的，今天终于懂得了二进制文件的用法，所以可以直接跳过配置go环境的步骤，去看二进制用法。</p><h3 id="_1-1-go环境安装" tabindex="-1"><a class="header-anchor" href="#_1-1-go环境安装"><span>1.1 go环境安装</span></a></h3><p>先去下载go语言安装包，然后安装到某一个目录(随意)<br><img src="'+l+'" alt="image.png" loading="lazy"><br> 然后验证是否安装成功，在命令行输入</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">go</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> env</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+t+`" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h2 id="_2-介绍" tabindex="-1"><a class="header-anchor" href="#_2-介绍"><span>2. 介绍</span></a></h2><p>grpcurl 和 grpcui 都是调试grpc的工具，grpcurl使用命令行，类似curl工具；grpcui是通过可视化界面进行调试。两个工具是一个作者。</p><blockquote><p>作者GitHub地址：<a href="http://github.com/fullstorydev" target="_blank" rel="noopener noreferrer">http://github.com/fullstorydev</a></p></blockquote><h2 id="_3-配置测试项目" tabindex="-1"><a class="header-anchor" href="#_3-配置测试项目"><span>3. 配置测试项目</span></a></h2><p>在您的grpc项目中另外再安装下面的组件</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ItemGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">PackageReference</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Include</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Grpc.AspNetCore&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;2.40.0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">PackageReference</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Include</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Grpc.AspNetCore.Server.Reflection&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;2.40.0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ItemGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过反射展示项目中的grpc服务，该项目里面包含了一个grpc服务</p><div class="language-protobuf line-numbers-mode" data-highlighter="shiki" data-ext="protobuf" data-title="protobuf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">syntax</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;proto3&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//使用的协议</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;google/protobuf/timestamp.proto&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;google/protobuf/wrappers.proto&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">option</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> csharp_namespace </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;UserService.Proto&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//命名空间</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">service</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> UserInfoService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{ </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//服务名</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //用户用户信息 一元调用</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">	rpc</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> GetUserInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">GetUserInfoRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">returns</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">GetUserInfoResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//登录请求类</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">message</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> GetUserInfoRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  string</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> user_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//用户ID</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//获取用户信息返回类</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">message</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> GetUserInfoResponse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  string</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//用户名</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  string</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> nick_name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//昵称</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  google.protobuf.Int32Value</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> sex</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//可为空性别 1男 2女 空是未知</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  google.protobuf.Timestamp</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> birthday</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//生日</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  bool</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> isenabled</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//是否启用</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ConfigureServices中启动grpc并且启动反射</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AddGrpc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">EnableDetailedErrors</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">MaxReceiveMessageSize</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//2m</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">MaxSendMessageSize</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//5m</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//启用grpc反射</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AddGrpcReflection</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure中增加</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">UseEndpoints</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">endpoints</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //通过反射向gRPCurl提供示例端点和消息信息的端点</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    endpoints</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MapGrpcReflectionService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //gprc服务暴露</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    endpoints</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MapGrpcService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">UserInfoGrpcService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    endpoints</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MapControllers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动项目，得到项目的运行地址是：<a href="https://localhost:7001" target="_blank" rel="noopener noreferrer">https://localhost:</a>5001</p><h2 id="_4-grpcurl" tabindex="-1"><a class="header-anchor" href="#_4-grpcurl"><span>4. grpcurl</span></a></h2><h3 id="_4-1-安装" tabindex="-1"><a class="header-anchor" href="#_4-1-安装"><span>4.1 安装</span></a></h3><h4 id="_4-1-1-操作二进制包" tabindex="-1"><a class="header-anchor" href="#_4-1-1-操作二进制包"><span>4.1.1 操作二进制包</span></a></h4><p>从github上下载二进制文件直接操作，地址 <a href="https://github.com/fullstorydev/grpcurl/releases" target="_blank" rel="noopener noreferrer">https://github.com/fullstorydev/grpcurl/releases</a><br><img src="`+h+'" alt="image.png" loading="lazy"><br> 下载后直接当当前目录下使用命令行，显示该地址下的grpc服务<br><img src="'+p+'" alt="image.png" loading="lazy"></p><h4 id="_4-1-2-编译源文件" tabindex="-1"><a class="header-anchor" href="#_4-1-2-编译源文件"><span>4.1.2 编译源文件</span></a></h4><p>在安装目录下执行，本文是在D:\\Program Files\\Go\\bin下执行</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">go install </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">github.com</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fullstorydev</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcurl</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cmd</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcurl</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">@latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装步骤</p><blockquote><p>此处本应该有图片的，结果一直安装不上(应该是需要科学一下)，之前安装的时候又忘了保存图片</p></blockquote><p>测试是否安装成功</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcurl </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">help</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+r+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="_4-2-操作" tabindex="-1"><a class="header-anchor" href="#_4-2-操作"><span>4.2 操作</span></a></h3><h4 id="_4-2-1-列出所有可用的grpc服务" tabindex="-1"><a class="header-anchor" href="#_4-2-1-列出所有可用的grpc服务"><span>4.2.1 列出所有可用的grpc服务</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .\\grpcurl localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5001</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+k+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h4 id="_4-2-2-列表指定服务里面所有可用的端点" tabindex="-1"><a class="header-anchor" href="#_4-2-2-列表指定服务里面所有可用的端点"><span>4.2.2 列表指定服务里面所有可用的端点</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> .\\grpcurl localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5001</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> list UserInfoService</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+d+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h4 id="_4-2-3-调用服务示例" tabindex="-1"><a class="header-anchor" href="#_4-2-3-调用服务示例"><span>4.2.3 调用服务示例</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.\\grpcurl  </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;{\\&quot;user_id\\&quot;:\\&quot;11\\&quot;}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5001</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> UserInfoService</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">GetUserInfo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="'+g+`" alt="image.png" loading="lazy"><br> 更多使用使用方法查看：<a href="https://github.com/fullstorydev/grpcurl" target="_blank" rel="noopener noreferrer">https://github.com/fullstorydev/grpcurl</a></p><h2 id="_5-grpcui" tabindex="-1"><a class="header-anchor" href="#_5-grpcui"><span>5. grpcui</span></a></h2><h3 id="_5-1-安装" tabindex="-1"><a class="header-anchor" href="#_5-1-安装"><span>5.1 安装</span></a></h3><p>这个东西是基于go环境进行安装的，需要提前配置go语言环境</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">go get </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">github.com</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fullstorydev</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcui</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">go install </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">github.com</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fullstorydev</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcui</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">cmd</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcui</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">@latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>安装过程<br><img src="`+c+`" alt="image.png" loading="lazy"><br> 执行个命令，验证下安装结果：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcui </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">help</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Usage:</span></span>
<span class="line"><span>    grpcui [flags] [address]</span></span>
<span class="line"><span>    </span></span>
<span class="line"><span>......</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表示安装成功了。或者使用grpcui -version命令。</p><h3 id="_5-2-项目中的配置" tabindex="-1"><a class="header-anchor" href="#_5-2-项目中的配置"><span>5.2 项目中的配置</span></a></h3><p>还使用上面的项目做测试，项目内需要配置反射操作，启动项目地址为：<a href="https://localhost:7001" target="_blank" rel="noopener noreferrer">https://localhost:7001</a></p><h3 id="_5-3-操作" tabindex="-1"><a class="header-anchor" href="#_5-3-操作"><span>5.3 操作</span></a></h3><h4 id="_5-3-1-列出所有服务" tabindex="-1"><a class="header-anchor" href="#_5-3-1-列出所有服务"><span>5.3.1 列出所有服务</span></a></h4><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">grpcui localhost:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7001</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="`+o+'" alt="image.png" loading="lazy"><br> 这个时候会自动打开该地址<br><img src="'+A+'" alt="image.png" loading="lazy"><br> 通过界面直观显示该项目中所有的grpc服务以及服务的端点。</p><h4 id="_5-3-2-调用示例" tabindex="-1"><a class="header-anchor" href="#_5-3-2-调用示例"><span>5.3.2 调用示例</span></a></h4><p><img src="'+m+'" alt="image.png" loading="lazy"><br> 返回结果<br><img src="'+b+'" alt="image.png" loading="lazy"></p><h2 id="_6-参考文档" tabindex="-1"><a class="header-anchor" href="#_6-参考文档"><span>6. 参考文档</span></a></h2><blockquote><p><a href="https://docs.microsoft.com/zh-cn/aspnet/core/grpc/test-tools?view=aspnetcore-3.1" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/aspnet/core/grpc/test-tools?view=aspnetcore-3.1</a><br> 当时写的时候遇到了问题，多亏了SpringLeee的这两篇文章<br><a href="https://www.cnblogs.com/myshowtime/p/14299596.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/myshowtime/p/14299596.html</a><br><a href="https://www.cnblogs.com/myshowtime/p/14304668.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/myshowtime/p/14304668.html</a></p></blockquote>',60)]))}const F=s(y,[["render",u],["__file","grpcdiaoshigongju.html.vue"]]),C=JSON.parse('{"path":"/middleware/grpc/grpcdiaoshigongju.html","title":"gRPC调试工具","lang":"zh-CN","frontmatter":{"title":"gRPC调试工具","lang":"zh-CN","date":"2023-09-12T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["middleware"],"tag":["无"],"filename":"grpcdiaoshigongju","slug":"fybkye","docsId":"48147135","description":"1. 开篇语 环境：windows10、.NetCore 3.x + 该文章已经写了好久了，当初时候不懂得二进制包的用法，然后直接安装的go环境使用的，今天终于懂得了二进制文件的用法，所以可以直接跳过配置go环境的步骤，去看二进制用法。 1.1 go环境安装 先去下载go语言安装包，然后安装到某一个目录(随意) image.png 然后验证是否安装成功...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/middleware/grpc/grpcdiaoshigongju.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"gRPC调试工具"}],["meta",{"property":"og:description","content":"1. 开篇语 环境：windows10、.NetCore 3.x + 该文章已经写了好久了，当初时候不懂得二进制包的用法，然后直接安装的go环境使用的，今天终于懂得了二进制文件的用法，所以可以直接跳过配置go环境的步骤，去看二进制用法。 1.1 go环境安装 先去下载go语言安装包，然后安装到某一个目录(随意) image.png 然后验证是否安装成功..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1637482333425-1f07bddf-0022-44f5-a34f-106b1475d427.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-19T14:00:28.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-09-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-19T14:00:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"gRPC调试工具\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1637482333425-1f07bddf-0022-44f5-a34f-106b1475d427.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1637482430045-868f2cbb-8cc6-4183-8a1e-6113b19da5ed.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1638105481946-d4164f28-5a4b-49f3-9f03-a2d5b26f233f.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1638105859842-2a84efb3-ae48-40cd-8dc6-e0cd2dd6c204.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1625561623327-a03b2a4a-af6b-4ca0-bded-a7580fa2639a.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1638105959936-47da0a5c-8f7a-4065-a550-4fa2a595bf4a.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1638106012325-c7432af6-7d32-48bc-881f-96e0c2e69eff.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1638106178316-52df4385-d172-42ec-95df-0914bee75d6e.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1625556612495-8138ac2a-aa61-4fcc-a0c1-78e51d79b25d.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1625566538915-00ce0abd-ddd5-4dc6-b393-acbcd09c6b5c.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1625566606698-38c4eff0-ccff-4916-9ab4-0937c36efe7a.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1625566663689-561f175c-73de-4958-bee6-bb7e7070b91b.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1625566691712-45a1c4c4-0d3d-4383-9f66-828834e498ec.png\\"],\\"datePublished\\":\\"2023-09-12T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-19T14:00:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"1. 开篇语","slug":"_1-开篇语","link":"#_1-开篇语","children":[{"level":3,"title":"1.1 go环境安装","slug":"_1-1-go环境安装","link":"#_1-1-go环境安装","children":[]}]},{"level":2,"title":"2. 介绍","slug":"_2-介绍","link":"#_2-介绍","children":[]},{"level":2,"title":"3. 配置测试项目","slug":"_3-配置测试项目","link":"#_3-配置测试项目","children":[]},{"level":2,"title":"4. grpcurl","slug":"_4-grpcurl","link":"#_4-grpcurl","children":[{"level":3,"title":"4.1 安装","slug":"_4-1-安装","link":"#_4-1-安装","children":[{"level":4,"title":"4.1.1 操作二进制包","slug":"_4-1-1-操作二进制包","link":"#_4-1-1-操作二进制包","children":[]},{"level":4,"title":"4.1.2 编译源文件","slug":"_4-1-2-编译源文件","link":"#_4-1-2-编译源文件","children":[]}]},{"level":3,"title":"4.2 操作","slug":"_4-2-操作","link":"#_4-2-操作","children":[{"level":4,"title":"4.2.1 列出所有可用的grpc服务","slug":"_4-2-1-列出所有可用的grpc服务","link":"#_4-2-1-列出所有可用的grpc服务","children":[]},{"level":4,"title":"4.2.2 列表指定服务里面所有可用的端点","slug":"_4-2-2-列表指定服务里面所有可用的端点","link":"#_4-2-2-列表指定服务里面所有可用的端点","children":[]},{"level":4,"title":"4.2.3 调用服务示例","slug":"_4-2-3-调用服务示例","link":"#_4-2-3-调用服务示例","children":[]}]}]},{"level":2,"title":"5. grpcui","slug":"_5-grpcui","link":"#_5-grpcui","children":[{"level":3,"title":"5.1 安装","slug":"_5-1-安装","link":"#_5-1-安装","children":[]},{"level":3,"title":"5.2 项目中的配置","slug":"_5-2-项目中的配置","link":"#_5-2-项目中的配置","children":[]},{"level":3,"title":"5.3 操作","slug":"_5-3-操作","link":"#_5-3-操作","children":[{"level":4,"title":"5.3.1 列出所有服务","slug":"_5-3-1-列出所有服务","link":"#_5-3-1-列出所有服务","children":[]},{"level":4,"title":"5.3.2 调用示例","slug":"_5-3-2-调用示例","link":"#_5-3-2-调用示例","children":[]}]}]},{"level":2,"title":"6. 参考文档","slug":"_6-参考文档","link":"#_6-参考文档","children":[]}],"git":{"createdTime":1697724028000,"updatedTime":1697724028000,"contributors":[{"name":"azrng","username":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":3.4,"words":1021},"filePathRelative":"middleware/grpc/grpcdiaoshigongju.md","localizedDate":"2023年9月12日","excerpt":"<h2>1. 开篇语</h2>\\n<p>环境：windows10、.NetCore 3.x +<br>\\n该文章已经写了好久了，当初时候不懂得二进制包的用法，然后直接安装的go环境使用的，今天终于懂得了二进制文件的用法，所以可以直接跳过配置go环境的步骤，去看二进制用法。</p>\\n<h3>1.1 go环境安装</h3>\\n<p>先去下载go语言安装包，然后安装到某一个目录(随意)<br>\\n<img src=\\"/common/1637482333425-1f07bddf-0022-44f5-a34f-106b1475d427.png\\" alt=\\"image.png\\" loading=\\"lazy\\"><br>\\n然后验证是否安装成功，在命令行输入</p>","autoDesc":true}');export{F as comp,C as data};
