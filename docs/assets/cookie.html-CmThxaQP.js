import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as o,b as a}from"./app-qB9_Bjjp.js";const e={},t=a(`<p>写入cookie <strong>HttpCookie cookie=new HttpCookie(&quot;MyCook&quot;);//初使化并设置Cookie的名称</strong><strong>DateTime dt=DateTime.Now;</strong><strong>TimeSpan ts = new TimeSpan(0, 0, 1,0,0);//过期时间为1分钟</strong><strong>cookie.Expires = dt.Add(ts);//设置过期时间</strong><strong>cookie.Values.Add(&quot;userid&quot;, &quot;userid_value&quot;);</strong><strong>cookie.Values.Add(&quot;userid2&quot;,&quot;userid2_value2&quot;);</strong> **Response.AppendCookie(cookie); ** <strong>还有一种添加cookie的方法</strong>    HttpCookie cookie = new HttpCookie(&quot;cookieToken&quot;, token);  HttpContext.Current.Response.Cookies.Add(cookie);   取值：string c = Request.Cookies[&quot;cookieToken&quot;].Value.ToString();</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token comment">//输出该Cookie的所有内容</span>
<span class="token comment">//Response.Write(cookie.Value);//输出为：userid=userid_value&amp;userid2=userid2_value2 </span>
读取cookie
<span class="token keyword">if</span> <span class="token punctuation">(</span>Request<span class="token punctuation">.</span>Cookies<span class="token punctuation">[</span><span class="token string">&quot;MyCook&quot;</span><span class="token punctuation">]</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token comment">//Response.Write(&quot;Cookie中键值为userid的值:&quot; + Request.Cookies[&quot;MyCook&quot;][&quot;userid&quot;]);//整行</span>
<span class="token comment">//Response.Write(&quot;Cookie中键值为userid2的值&quot; + Request.Cookies[&quot;MyCook&quot;][&quot;userid2&quot;]);</span>
Response<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>Request<span class="token punctuation">.</span>Cookies<span class="token punctuation">[</span><span class="token string">&quot;MyCook&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//输出全部的值</span>
<span class="token punctuation">}</span>
修改cookie
<span class="token comment">//获取客户端的Cookie对象</span>
<span class="token class-name">HttpCookie</span> cok <span class="token operator">=</span> Request<span class="token punctuation">.</span>Cookies<span class="token punctuation">[</span><span class="token string">&quot;MyCook&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        
<span class="token keyword">if</span> <span class="token punctuation">(</span>cok <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token comment">//修改Cookie的两种方法</span>
cok<span class="token punctuation">.</span>Values<span class="token punctuation">[</span><span class="token string">&quot;userid&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;alter-value&quot;</span><span class="token punctuation">;</span>
cok<span class="token punctuation">.</span>Values<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;userid&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;alter-value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token comment">//往Cookie里加入新的内容</span>
cok<span class="token punctuation">.</span>Values<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;newid&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;newValue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Response<span class="token punctuation">.</span><span class="token function">AppendCookie</span><span class="token punctuation">(</span>cok<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>      
删除cookie
<span class="token class-name">HttpCookie</span> cok <span class="token operator">=</span> Request<span class="token punctuation">.</span>Cookies<span class="token punctuation">[</span><span class="token string">&quot;MyCook&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>cok <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>CheckBox1<span class="token punctuation">.</span>Checked<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
 cok<span class="token punctuation">.</span>Values<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token string">&quot;userid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//移除键值为userid的值　　　　　　</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>　　　　　　　　
<span class="token class-name">TimeSpan</span> ts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TimeSpan</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>　　　　　　　　
cok<span class="token punctuation">.</span>Expires <span class="token operator">=</span> DateTime<span class="token punctuation">.</span>Now<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//删除整个Cookie，只要把过期时间设置为现在　　　　　　</span>
<span class="token punctuation">}</span>　　　　　　
Response<span class="token punctuation">.</span><span class="token function">AppendCookie</span><span class="token punctuation">(</span>cok<span class="token punctuation">)</span><span class="token punctuation">;</span>　　　　
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果有时候碰到一个cookie咋删都删除不了，可以使用下面这种 foreach (string cookiename in Request.Cookies.AllKeys)             {                 HttpCookie cookies = Request.Cookies[cookiename];                 if (cookies != null)                 {                     cookies.Expires = DateTime.Today.AddDays(-1);                    Response.Cookies.Add(cookies);                    Request.Cookies.Remove(cookiename);                 }             }        cookie的值为中文时候,取cookie的值会出现乱码 解决办法:存取cookie时候先解码和编码 存cookie,进行编码 :cookie.Value = HttpUtility.UrlEncode(&quot;上海&quot;);//加密 取cookie时候,进行解码: cookieValue = HttpUtility.UrlDecode(cookie.Value);//解密       js存储cookie</p>`,3),p=[t];function i(c,u){return s(),o("div",null,p)}const r=n(e,[["render",i],["__file","cookie.html.vue"]]),d=JSON.parse('{"path":"/dotnet/webyingyong/webform/cunchushuju/cookie.html","title":"cookie","lang":"zh-CN","frontmatter":{"title":"cookie","lang":"zh-CN","date":"2021-02-17T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dotNET"],"tag":["无"],"filename":"cookie","slug":"mpbt47","docsId":"31541513","description":"写入cookie HttpCookie cookie=new HttpCookie(\\"MyCook\\");//初使化并设置Cookie的名称 DateTime dt=DateTime.Now; TimeSpan ts = new TimeSpan(0, 0, 1,0,0);//过期时间为1分钟 cookie.Expires = dt.Add(ts);//...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dotnet/webyingyong/webform/cunchushuju/cookie.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"cookie"}],["meta",{"property":"og:description","content":"写入cookie HttpCookie cookie=new HttpCookie(\\"MyCook\\");//初使化并设置Cookie的名称 DateTime dt=DateTime.Now; TimeSpan ts = new TimeSpan(0, 0, 1,0,0);//过期时间为1分钟 cookie.Expires = dt.Add(ts);//..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-22T08:11:43.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2021-02-17T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-22T08:11:43.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"cookie\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2021-02-17T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-22T08:11:43.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[],"git":{"createdTime":1697962303000,"updatedTime":1697962303000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":1.29,"words":388},"filePathRelative":"dotnet/webyingyong/webform/cunchushuju/cookie.md","localizedDate":"2021年2月17日","excerpt":"<p>写入cookie\\n<strong>HttpCookie&nbsp;cookie=new&nbsp;HttpCookie(\\"MyCook\\");//初使化并设置Cookie的名称</strong>\\n<strong>DateTime&nbsp;dt=DateTime.Now;</strong>\\n<strong>TimeSpan&nbsp;ts&nbsp;=&nbsp;new&nbsp;TimeSpan(0,&nbsp;0,&nbsp;1,0,0);//过期时间为1分钟</strong>\\n<strong>cookie.Expires&nbsp;=&nbsp;dt.Add(ts);//设置过期时间</strong>\\n<strong>cookie.Values.Add(\\"userid\\",&nbsp;\\"userid_value\\");</strong>\\n<strong>cookie.Values.Add(\\"userid2\\",\\"userid2_value2\\");</strong>\\n**Response.AppendCookie(cookie); **\\n<strong>还有一种添加cookie的方法</strong>\\n&nbsp;&nbsp; HttpCookie cookie = new HttpCookie(\\"cookieToken\\", token);\\n&nbsp;HttpContext.Current.Response.Cookies.Add(cookie);\\n&nbsp; 取值：string c = Request.Cookies[\\"cookieToken\\"].Value.ToString();</p>","autoDesc":true}');export{r as comp,d as data};
