import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as a,o as s,c as i,b as e,e as t,f as o,d as c}from"./app-D8HBJYTp.js";const l={},d=e("h2",{id:"配置读取",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#配置读取"},[e("span",null,"配置读取")])],-1),p=e("code",null,"appsettings.json",-1),m=e("code",null,"appsettings.{ENVIRONMENT}.json",-1),u=e("code",null,"wwwroot",-1),h={href:"https://learn.microsoft.com/zh-cn/dotnet/api/system.net.http.httpclient",target:"_blank",rel:"noopener noreferrer"},g={href:"https://learn.microsoft.com/zh-cn/dotnet/api/microsoft.extensions.configuration",target:"_blank",rel:"noopener noreferrer"},b=e("code",null,"Program",-1),_=c(`<div class="language-c# line-numbers-mode" data-ext="c#" data-title="c#"><pre class="language-c#"><code>var http = new HttpClient()
{
    BaseAddress = new Uri(builder.HostEnvironment.BaseAddress)
};

builder.Services.AddScoped(sp =&gt; http);

using var response = await http.GetAsync(&quot;cars.json&quot;);
using var stream = await response.Content.ReadAsStreamAsync();

builder.Configuration.AddJsonStream(stream);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),f={href:"https://learn.microsoft.com/zh-cn/aspnet/core/blazor/fundamentals/configuration?view=aspnetcore-8.0#memory-configuration-source",target:"_blank",rel:"noopener noreferrer"};function v(w,y){const n=a("ExternalLinkIcon");return s(),i("div",null,[d,e("p",null,[t("客户端安全限制阻止通过用户代码直接访问文件，包括应用配置的设置文件。 若除了 "),p,t("/"),m,t(" 之外，还要将 "),u,t(" 文件夹中的配置文件读入配置，请使用 "),e("a",h,[t("HttpClient"),o(n)]),t("。")]),e("p",null,[t("比如需要将该文件读取进配置：wwwroot/cars.json，将 "),e("a",g,[t("Microsoft.Extensions.Configuration"),o(n)]),t(" 的命名空间添加到 "),b,t(" 文件，然后使用HttpClient服务使得客户端读取文件")]),_,e("p",null,[t("还有其他源方案，参阅资料"),e("a",f,[t("此处"),o(n)])])])}const T=r(l,[["render",v],["__file","configuration.html.vue"]]),E=JSON.parse('{"path":"/web/blazor/baseOperator/configuration.html","title":"配置","lang":"zh-CN","frontmatter":{"title":"配置","lang":"zh-CN","date":"2022-12-10T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":false,"category":["dotNET"],"tag":["blazor"],"description":"配置读取 客户端安全限制阻止通过用户代码直接访问文件，包括应用配置的设置文件。 若除了 appsettings.json/appsettings.{ENVIRONMENT}.json 之外，还要将 wwwroot 文件夹中的配置文件读入配置，请使用 HttpClient。 比如需要将该文件读取进配置：wwwroot/cars.json，将 Micros...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/web/blazor/baseOperator/configuration.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"配置"}],["meta",{"property":"og:description","content":"配置读取 客户端安全限制阻止通过用户代码直接访问文件，包括应用配置的设置文件。 若除了 appsettings.json/appsettings.{ENVIRONMENT}.json 之外，还要将 wwwroot 文件夹中的配置文件读入配置，请使用 HttpClient。 比如需要将该文件读取进配置：wwwroot/cars.json，将 Micros..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-12-14T12:02:46.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"blazor"}],["meta",{"property":"article:published_time","content":"2022-12-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-12-14T12:02:46.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"配置\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-12-10T00:00:00.000Z\\",\\"dateModified\\":\\"2023-12-14T12:02:46.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"配置读取","slug":"配置读取","link":"#配置读取","children":[]}],"git":{"createdTime":1702209202000,"updatedTime":1702555366000,"contributors":[{"name":"zhangyunpeng","email":"zhang.yunpeng@synyi.com","commits":2}]},"readingTime":{"minutes":0.61,"words":183},"filePathRelative":"web/blazor/baseOperator/configuration.md","localizedDate":"2022年12月10日","excerpt":"<h2>配置读取</h2>\\n<p>客户端安全限制阻止通过用户代码直接访问文件，包括应用配置的设置文件。 若除了 <code>appsettings.json</code>/<code>appsettings.{ENVIRONMENT}.json</code> 之外，还要将 <code>wwwroot</code> 文件夹中的配置文件读入配置，请使用 <a href=\\"https://learn.microsoft.com/zh-cn/dotnet/api/system.net.http.httpclient\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">HttpClient</a>。</p>","autoDesc":true}');export{T as comp,E as data};
