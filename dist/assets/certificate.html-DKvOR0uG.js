import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as e}from"./app-B3EhLA94.js";const l={};function t(h,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h2 id="let-s-encrypt" tabindex="-1"><a class="header-anchor" href="#let-s-encrypt"><span>Let’s Encrypt</span></a></h2><p>Let’s Encrypt 是一个证书颁发机构（CA）。要从 Let’s Encrypt 获取网站域名的证书，只需要证明对域名的实际控制权即可。有两种验证方式，通过域名解析添加 TXT 记录，或是在网站添加指定的验证文件（实现访问指定地址返回要求的字符串即可，不过不支持有通配符的申请）。</p><p>证书自动申请使用Certes(<a href="https://github.com/fszlin/certes" target="_blank" rel="noopener noreferrer">https://github.com/fszlin/certes</a>)库来实现 Let’s Encrypt 证书的自动续签。</p><h2 id="auto-ssl" tabindex="-1"><a class="header-anchor" href="#auto-ssl"><span>auto-ssl</span></a></h2><p>一个自动化管理域名 SSL 证书的开源项目 Auto-SSL。</p><p>利用 GitHub Actions 以及 <a href="http://acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a>，实现了自动申请 SSL 证书并保存，同时可对 SSL 证书自动续期。</p><p>GitHub：<a href="https://github.com/danbao/auto-ssl" target="_blank" rel="noopener noreferrer">https://github.com/danbao/auto-ssl</a></p><h2 id="openssl" tabindex="-1"><a class="header-anchor" href="#openssl"><span>OpenSSL</span></a></h2><h3 id="操作" tabindex="-1"><a class="header-anchor" href="#操作"><span>操作</span></a></h3><h4 id="申请" tabindex="-1"><a class="header-anchor" href="#申请"><span>申请</span></a></h4><p><a href="http://slproweb.com/products/Win32OpenSSL.html" target="_blank" rel="noopener noreferrer">下载openssl安装包</a>并安装,打开命令行,输入openssl,如果提示Openssl不是内部或外部命令,需要设置一下环境变量,把Openssl的安装目录加入到path环境变量.<br> 另外新建一个环境变量,如以下所示,名称为：OPENSSL_CONF,指向你安装目录的openssl.cfg文件,现在输入openssl应该没有问题了.<br> 新建一个文件夹用于放置密钥,在该目录打开命令行.<br> 1.申请一个私钥,在命令行中输入:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> genrsa</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> private_ids.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2048</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>申请一个2048位的RSA加密私钥.目录下将多了一个名为private_ids.key的文件.<br> 2.申请一个公钥</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> req</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -new</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x509</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> private_ids.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -days</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3650</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> public_ids.crt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>其中 -key private_ids.key是指定这个公钥的配对私钥,就是第一步申请的私钥.x509是X.509公钥格式标准.<br> 接下来会提示你输入一些信息,用于颁发机构的信息展示,如公司,所在国家,城市等</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">You</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> are about to be asked to enter information that will be incorporated</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your certificate request.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">What</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> you are about to enter is what is called a Distinguished Name or a DN.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">There</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> are quite a few fields but you can leave some blank</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">For</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> some fields there will be a </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> value,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">If</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> you enter </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;.&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, the field will be left blank.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-----</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Country</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Name (2 letter code) [AU]:CN</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">State</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> or Province Name (full name) [Some-State]:ShangHai</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Locality</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Name (eg, city) []:ShangHai</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Organization</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Name (eg, company) [Internet Widgits Pty Ltd]:XXXXX</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Organizational</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Unit Name (eg, section) []:XXXXX-XXXXX</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Common</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Name (e.g. server FQDN or YOUR name) []:XXXXX</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Email</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Address []:XXXXX@outlook.COM</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果不想每次都输入这些信息,可以使用“-config 配置文件目录”的方式指定配置文件,安装后Openssl后,有一个名为openssl.cnf的默认的配置文件在安装目录bin/cnf目录中.编辑该文件,找到req_distinguished_name</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">req_distinguished_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">countryName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         = Country Name (2 letter code)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">countryName_default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     = AU</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">countryName_min</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         = 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">countryName_max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">         = 2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">stateOrProvinceName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     = State or Province Name (full name)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">stateOrProvinceName_default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = Some-State</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">localityName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            = Locality Name (eg, city)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">0.</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">organizationName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      = Organization Name (eg, company)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">0.</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">organizationName_default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  = Internet Widgits Pty Ltd</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## we can do this but it is not needed normally :-)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#1.organizationName     = Second Organization Name (eg, company)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#1.organizationName_default = World Wide Web Pty Ltd</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">organizationalUnitName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      = Organizational Unit Name (eg, section)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#organizationalUnitName_default =</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">commonName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          = Common Name (e.g. server FQDN or YOUR name)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">commonName_max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          = 64</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">emailAddress</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            = Email Address</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">emailAddress_max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        = 64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里可以指定这些参数的默认值,如指定国家默认值为CN.把countryName_default改成CN就行了.申请完公钥后,目录下将多了一个public_ids.crt的文件.<br> 3.公钥及私钥的提取加密.由于传播安全方面的考虑,需要将公钥及私钥加密,微软支持PCK12(公钥加密技术12号标准：Public Key Cryptography Standards #12),PCK12将公钥和私钥合在一个PFX后缀文件并用密码保护,如要提取公钥和私钥需要密码确认.另一种觉的公钥私钥提取加密方式是JKS(JAVA Key Store)用于JAVA环境的公钥和私钥提取.这两种格式可以相互转换.<br> 在命令行中输入</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openssl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pkcs12</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -export</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> public_ids.crt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -inkey</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> private_ids.key</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -out</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ids.pfx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输入密码和确认密码后,当前目录会多出一个文件:ids.pfx.这就是我们要用的密钥证书了.</p><h4 id="使用密钥" tabindex="-1"><a class="header-anchor" href="#使用密钥"><span>使用密钥</span></a></h4><p>将第二步生成ids.pfx文件复制服务器发布目录,如果只是为了测试,可以复制到本地项目目录.将目录信息及证书提取密码存入配置文件</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Environment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IsDevelopment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">())</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    builder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AddDeveloperSigningCredential</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    builder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">AddSigningCredential</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">X509Certificate2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Combine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Environment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CurrentDirectory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ids.pfx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;your_password&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想调试环境也统一证书,可以把环境判断去掉,只用AddSigningCredential方式加载密钥证书.</p><h2 id="certify-the-web" tabindex="-1"><a class="header-anchor" href="#certify-the-web"><span>Certify The Web</span></a></h2><p>商业版付费，免费版可以配5个域名，可以泛域名</p><p>网址：<a href="https://certifytheweb.com/" target="_blank" rel="noopener noreferrer">https://certifytheweb.com/</a></p><h2 id="工具" tabindex="-1"><a class="header-anchor" href="#工具"><span>工具</span></a></h2><h3 id="domain-admin" tabindex="-1"><a class="header-anchor" href="#domain-admin"><span>domain-admin</span></a></h3><p>domain-admin 是一个开源的域名管理平台，旨在帮助用户高效地管理和监控域名信息。它提供了一个集中式的管理界面，用户可以在其中查看和更新域名状态、解析记录、到期时间等关键信息。这个工具特别适合需要管理多个域名的个人和组织。</p><p>仓库地址：<a href="https://github.com/dromara/domain-admin" target="_blank" rel="noopener noreferrer">https://github.com/dromara/domain-admin</a></p><h4 id="部署" tabindex="-1"><a class="header-anchor" href="#部署"><span>部署</span></a></h4><p>docker</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 本地文件夹和容器文件夹映射</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v $(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">pwd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/database:/app/database</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-v $(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">pwd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/logs:/app/logs</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">-p </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">8000:8000</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">--name </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">domain-admin</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mouday/domain-admin:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>docker-compose</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;3.3&#39;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    domain-admin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        volumes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./database:/app/database&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;./logs:/app/logs&#39;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;8000:8000&#39;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        container_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">domain-admin</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mouday/domain-admin:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="资料" tabindex="-1"><a class="header-anchor" href="#资料"><span>资料</span></a></h2><p>生成自签名证书：<a href="https://learn.microsoft.com/zh-cn/dotnet/core/additional-tools/self-signed-certificates-guide#with-openssl" target="_blank" rel="noopener noreferrer">https://learn.microsoft.com/zh-cn/dotnet/core/additional-tools/self-signed-certificates-guide#with-openssl</a><br> OpenSSL生成密钥证书：<a href="https://www.cnblogs.com/osbreak/p/9486188.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/osbreak/p/9486188.html</a></p><p>OpenSSL生成rsa密钥证书：<a href="https://www.cnblogs.com/wjqhuaxia/p/13829680.html" target="_blank" rel="noopener noreferrer">https://www.cnblogs.com/wjqhuaxia/p/13829680.html</a></p><p><a href="https://mp.weixin.qq.com/s/hK0-tdhQan2CbmGO7RgvAw" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/hK0-tdhQan2CbmGO7RgvAw</a> | 告别证书配置烦恼：使用Caddy或OpenResty快速配置免费的HTTPS</p><p>证书自动续期：<a href="https://mp.weixin.qq.com/s/N8W6el6ahJh8Qy6A8GLs9g" target="_blank" rel="noopener noreferrer">https://mp.weixin.qq.com/s/N8W6el6ahJh8Qy6A8GLs9g</a></p>`,42)]))}const k=i(l,[["render",t],["__file","certificate.html.vue"]]),d=JSON.parse('{"path":"/soft/serverConfigs/certificate.html","title":"证书","lang":"zh-CN","frontmatter":{"title":"证书","lang":"zh-CN","date":"2023-07-22T00:00:00.000Z","publish":true,"author":"azrng","order":4,"category":["服务器或证书"],"tag":["certificate"],"filename":"zhengshu","description":"Let’s Encrypt Let’s Encrypt 是一个证书颁发机构（CA）。要从 Let’s Encrypt 获取网站域名的证书，只需要证明对域名的实际控制权即可。有两种验证方式，通过域名解析添加 TXT 记录，或是在网站添加指定的验证文件（实现访问指定地址返回要求的字符串即可，不过不支持有通配符的申请）。 证书自动申请使用Certes(htt...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/soft/serverConfigs/certificate.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"证书"}],["meta",{"property":"og:description","content":"Let’s Encrypt Let’s Encrypt 是一个证书颁发机构（CA）。要从 Let’s Encrypt 获取网站域名的证书，只需要证明对域名的实际控制权即可。有两种验证方式，通过域名解析添加 TXT 记录，或是在网站添加指定的验证文件（实现访问指定地址返回要求的字符串即可，不过不支持有通配符的申请）。 证书自动申请使用Certes(htt..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-13T07:18:28.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"certificate"}],["meta",{"property":"article:published_time","content":"2023-07-22T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-13T07:18:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"证书\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-07-22T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-13T07:18:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"Let’s Encrypt","slug":"let-s-encrypt","link":"#let-s-encrypt","children":[]},{"level":2,"title":"auto-ssl","slug":"auto-ssl","link":"#auto-ssl","children":[]},{"level":2,"title":"OpenSSL","slug":"openssl","link":"#openssl","children":[{"level":3,"title":"操作","slug":"操作","link":"#操作","children":[{"level":4,"title":"申请","slug":"申请","link":"#申请","children":[]},{"level":4,"title":"使用密钥","slug":"使用密钥","link":"#使用密钥","children":[]}]}]},{"level":2,"title":"Certify The Web","slug":"certify-the-web","link":"#certify-the-web","children":[]},{"level":2,"title":"工具","slug":"工具","link":"#工具","children":[{"level":3,"title":"domain-admin","slug":"domain-admin","link":"#domain-admin","children":[{"level":4,"title":"部署","slug":"部署","link":"#部署","children":[]}]}]},{"level":2,"title":"资料","slug":"资料","link":"#资料","children":[]}],"git":{"createdTime":1690016670000,"updatedTime":1731482308000,"contributors":[{"name":"azrng","username":"azrng","email":"itzhangyunpeng@163.com","commits":7},{"name":"zhangyunpeng","username":"zhangyunpeng","email":"zhang.yunpeng@synyi.com","commits":1}]},"readingTime":{"minutes":4.6,"words":1381},"filePathRelative":"soft/serverConfigs/certificate.md","localizedDate":"2023年7月22日","excerpt":"<h2>Let’s Encrypt</h2>\\n<p>Let’s Encrypt 是一个证书颁发机构（CA）。要从 Let’s Encrypt 获取网站域名的证书，只需要证明对域名的实际控制权即可。有两种验证方式，通过域名解析添加 TXT 记录，或是在网站添加指定的验证文件（实现访问指定地址返回要求的字符串即可，不过不支持有通配符的申请）。</p>\\n<p>证书自动申请使用Certes(<a href=\\"https://github.com/fszlin/certes\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/fszlin/certes</a>)库来实现 Let’s Encrypt 证书的自动续签。</p>","autoDesc":true}');export{k as comp,d as data};
