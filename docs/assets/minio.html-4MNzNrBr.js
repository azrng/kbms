import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as l,c,b as n,e as a,f as e,d as t}from"./app-CBxp4zeL.js";const p={},r=n("h2",{id:"概述",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#概述"},[n("span",null,"概述")])],-1),u={href:"http://docs.minio.org.cn/docs/master/minio-deployment-quickstart-guide",target:"_blank",rel:"noopener noreferrer"},d={href:"https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/Welcome.html",target:"_blank",rel:"noopener noreferrer"},m=t('<h2 id="概念" tabindex="-1"><a class="header-anchor" href="#概念"><span>概念</span></a></h2><ul><li>Bucket（存储桶）：Bucket 是 Minio 的最顶层命名空间，类似于文件系统中的文件夹。在 Minio 中，你可以创建多个 Bucket 来组织和管理对象。</li><li>Object（对象）：Object 是 Minio 存储的实际数据单元。每个 Object 可以是任意大小的文件，通常由文件内容、元数据和一个唯一标识符（Object Key）组成。</li><li>Object Key（对象键）：Object Key 是每个 Object 的唯一标识符，用于区分不同的 Object。它类似于文件系统中的文件路径，由目录结构和文件名称组成，例如 &quot;photos/2021/image.jpg&quot;。</li><li>Presigned URL（预签名URL）：Presigned URL 是一种带有临时访问权限的 URL，通过该 URL 可以让用户在一定时间内对特定的 Object 进行读取、写入、删除等操作。这对于授权临时访问非常有用，比如与其他用户共享文件或资源</li><li>Access Key 和 Secret Key（访问密钥）：Access Key 和 Secret Key 是用于身份验证的凭据。Access Key 用于标识用户或应用程序，而 Secret Key 则用于进行身份验证。这些凭据需要在使用 Minio 客户端或访问 Minio API 时进行配置。</li><li>Region（区域）：Region 是用来表示存储桶（Bucket）在物理位置上的分布。Minio 支持将数据存储在不同的区域，以实现高可用性和数据冗余。</li><li>Encryption（加密）：Minio 提供了对 Bucket 和 Object 的服务器端加密功能。可以使用客户端提供的加密选项，将数据在上传到 Minio 之前进行加密，以保证数据的机密性。</li><li>Endpoint 对象存储服务的URL</li></ul><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><p>关于组件的使用可以使用AWSSDK.S3(因为都是支持s3协议)也可以直接使用Minio组件包</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>基本的使用已经封装了nuget包，具体可以去查阅源码的中的内容。</p></div>',5),k={href:"https://www.cnblogs.com/CKExp/p/15605367.html",target:"_blank",rel:"noopener noreferrer"},v={href:"https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/access-policy-language-overview.html",target:"_blank",rel:"noopener noreferrer"},h=t(`<h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>老版本和新版本界面差距还是挺大的，如果想用来老版本的，可以选择镜像：image: minio/minio:RELEASE.2021-06-17T00-10-46Z</p><h3 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>docker</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">9000</span>:9000 <span class="token parameter variable">-p</span> <span class="token number">9090</span>:9090 <span class="token punctuation">\\</span>
     <span class="token parameter variable">--net</span><span class="token operator">=</span>host <span class="token punctuation">\\</span>
     <span class="token parameter variable">--name</span> minio <span class="token punctuation">\\</span>
     <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token punctuation">\\</span>
     <span class="token parameter variable">-e</span> <span class="token string">&quot;MINIO_ACCESS_KEY=minioadmin&quot;</span> <span class="token punctuation">\\</span>
     <span class="token parameter variable">-e</span> <span class="token string">&quot;MINIO_SECRET_KEY=minioadmin&quot;</span> <span class="token punctuation">\\</span>
     <span class="token parameter variable">-v</span> /home/minio/data:/data <span class="token punctuation">\\</span>
     <span class="token parameter variable">-v</span> /home/minio/config:/root/.minio <span class="token punctuation">\\</span>
     minio/minio server <span class="token punctuation">\\</span>
     /data --console-address <span class="token string">&quot;:9090&quot;</span> <span class="token parameter variable">-address</span> <span class="token string">&quot;:9000&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose"><span>docker-compose</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>  <span class="token key atrule">win_minio</span><span class="token punctuation">:</span> 
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> win_minio
    <span class="token key atrule">image</span><span class="token punctuation">:</span> minio/minio
    <span class="token key atrule">command</span><span class="token punctuation">:</span> server /data <span class="token punctuation">-</span><span class="token punctuation">-</span>console<span class="token punctuation">-</span>address &quot;<span class="token punctuation">:</span>9001&quot;
    <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> <span class="token string">&quot;9000:9000&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9001:9001&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span> <span class="token comment">## 账号长度必须大于等于5，密码长度必须大于等于8位</span>
      <span class="token punctuation">-</span> MINIO_ROOT_USER=admin
      <span class="token punctuation">-</span> MINIO_ROOT_PASSWORD=123456789 
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> D<span class="token punctuation">:</span>\\docker<span class="token punctuation">-</span>data\\minio<span class="token punctuation">:</span>/data <span class="token comment">## 持久化地址</span>
  
  <span class="token key atrule">linux_minio</span><span class="token punctuation">:</span> 
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> linux_minio
    <span class="token key atrule">image</span><span class="token punctuation">:</span> minio/minio
    <span class="token key atrule">command</span><span class="token punctuation">:</span> server /data <span class="token punctuation">-</span><span class="token punctuation">-</span>console<span class="token punctuation">-</span>address &quot;<span class="token punctuation">:</span>9001&quot;
    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always
    <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> <span class="token string">&quot;9000:9000&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;9001:9001&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> MINIO_ROOT_USER=admin
      <span class="token punctuation">-</span> MINIO_ROOT_PASSWORD=123456789
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> /data<span class="token punctuation">:</span>/data <span class="token comment">## 持久化地址</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>老版本的</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>  <span class="token key atrule">old_win_minio</span><span class="token punctuation">:</span>  <span class="token comment">## 更熟悉的老版本</span>
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> old_win_minio
    <span class="token key atrule">image</span><span class="token punctuation">:</span> minio/minio<span class="token punctuation">:</span>RELEASE.2021<span class="token punctuation">-</span>06<span class="token punctuation">-</span>17T00<span class="token punctuation">-</span>10<span class="token punctuation">-</span>46Z
    <span class="token key atrule">command</span><span class="token punctuation">:</span> server /data
    <span class="token key atrule">ports</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> <span class="token string">&quot;9000:9000&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span> <span class="token comment">## 账号长度必须大于等于5，密码长度必须大于等于8位</span>
      <span class="token punctuation">-</span> MINIO_ROOT_USER=admin
      <span class="token punctuation">-</span> MINIO_ROOT_PASSWORD=123456789 
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span> 
      <span class="token punctuation">-</span> D<span class="token punctuation">:</span>\\docker<span class="token punctuation">-</span>data\\minio<span class="token punctuation">:</span>/data <span class="token comment">## 持久化地址</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二进制文件安装" tabindex="-1"><a class="header-anchor" href="#二进制文件安装"><span>二进制文件安装</span></a></h3>`,9),b={href:"https://dl.min.io/server/minio/",target:"_blank",rel:"noopener noreferrer"},g=t(`<div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>wget https<span class="token punctuation">:</span>//dl.min.io/server/minio/release/linux<span class="token punctuation">-</span>amd64/minio
//1.下载minio源码包


chmod +x minio
//2.更改权限

./minio server /data
//启动服务 /data为我们自定义的文件目录
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="issue" tabindex="-1"><a class="header-anchor" href="#issue"><span>Issue</span></a></h2><h3 id="桶不存在就创建" tabindex="-1"><a class="header-anchor" href="#桶不存在就创建"><span>桶不存在就创建</span></a></h3><p>问题场景：使用AWSSDK.S3(3.7.101.39)版本在老版本的minio(minio/minio:RELEASE.2021-06-17T00-10-46Z)是没有问题，当使用较新版本minio(minio/minio:RELEASE.2022-06-25T15-50-16Z)的时候下面的方法是会报错的</p><div class="language-c# line-numbers-mode" data-ext="c#" data-title="c#"><pre class="language-c#"><code>/// &lt;summary&gt;
/// Check to see if the bucket exists and if it doesn&#39;t create the bucket.
/// &lt;/summary&gt;
/// &lt;param name=&quot;bucketName&quot;&gt;&lt;/param&gt;
Task EnsureBucketExistsAsync(string bucketName);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从注释上面看的话是如果不存在就创建，可是这里如果存在的话就直接报错了，或许是因为s3的处理方式和minio的处理方式不同，在这个组件中此处代码直接去PutBucket</p><h2 id="资料" tabindex="-1"><a class="header-anchor" href="#资料"><span>资料</span></a></h2><p>官网文档：https://www.minio.org.cn/docs/minio/kubernetes/upstream/</p>`,8);function y(_,f){const s=o("ExternalLinkIcon");return l(),c("div",null,[r,n("p",null,[a("Minio 是一个基于Apache License v2.0开源协议的对象存储服务，虽然轻量，却拥有着不错的性能。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据。 例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几 kb 到最大 5T 不等。 官方文档："),n("a",u,[a("http://docs.minio.org.cn/docs/master/minio-deployment-quickstart-guide"),e(s)])]),n("p",null,[a("aws s3官网："),n("a",d,[a("https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/Welcome.html"),e(s)])]),m,n("p",null,[a("策略配置："),n("a",k,[a("https://www.cnblogs.com/CKExp/p/15605367.html"),e(s)]),a(" 官网策略配置："),n("a",v,[a("https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/access-policy-language-overview.html"),e(s)])]),h,n("p",null,[a("下载地址："),n("a",b,[a("https://dl.min.io/server/minio/"),e(s)])]),g])}const x=i(p,[["render",y],["__file","minio.html.vue"]]),q=JSON.parse('{"path":"/middleware/oss/minio.html","title":"Minio","lang":"zh-CN","frontmatter":{"title":"Minio","lang":"zh-CN","date":"2023-10-15T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["middleware"],"tag":["无"],"filename":"minio","slug":"oysc6o2ffu7t0wm1","docsId":"109691224","description":"概述 Minio 是一个基于Apache License v2.0开源协议的对象存储服务，虽然轻量，却拥有着不错的性能。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据。 例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几 kb 到最大 5T 不等。 官方文档：http://docs.minio...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/middleware/oss/minio.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"Minio"}],["meta",{"property":"og:description","content":"概述 Minio 是一个基于Apache License v2.0开源协议的对象存储服务，虽然轻量，却拥有着不错的性能。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据。 例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几 kb 到最大 5T 不等。 官方文档：http://docs.minio..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-13T14:11:27.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-10-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-13T14:11:27.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Minio\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-10-15T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-13T14:11:27.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"概念","slug":"概念","link":"#概念","children":[]},{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[{"level":3,"title":"docker","slug":"docker","link":"#docker","children":[]},{"level":3,"title":"docker-compose","slug":"docker-compose","link":"#docker-compose","children":[]},{"level":3,"title":"二进制文件安装","slug":"二进制文件安装","link":"#二进制文件安装","children":[]}]},{"level":2,"title":"Issue","slug":"issue","link":"#issue","children":[{"level":3,"title":"桶不存在就创建","slug":"桶不存在就创建","link":"#桶不存在就创建","children":[]}]},{"level":2,"title":"资料","slug":"资料","link":"#资料","children":[]}],"git":{"createdTime":1697724028000,"updatedTime":1710339087000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":3.72,"words":1117},"filePathRelative":"middleware/oss/minio.md","localizedDate":"2023年10月15日","excerpt":"<h2>概述</h2>\\n<p>Minio 是一个基于Apache License v2.0开源协议的对象存储服务，虽然轻量，却拥有着不错的性能。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据。\\n例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几 kb 到最大 5T 不等。\\n官方文档：<a href=\\"http://docs.minio.org.cn/docs/master/minio-deployment-quickstart-guide\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://docs.minio.org.cn/docs/master/minio-deployment-quickstart-guide</a></p>","autoDesc":true}');export{x as comp,q as data};
