import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as p,c,a as n,d as a,e as t,b as i}from"./app-Bw62I61B.js";const l="/kbms/common/1623074832782-048ef9a4-e41c-4fbf-ad27-840cf1813f57.png",r="/kbms/common/1623075258900-dda3a98c-8190-46e8-a30f-2dbfcc6d52f2.png",d="/kbms/common/1623075610320-d9b28f44-5067-424a-b7b9-7abb160b5c26.png",u="/kbms/common/1623076386321-7f9bc26c-1136-44fc-958a-756b10641178.png",m="/kbms/common/1623077634012-53139f69-8c9d-4eb6-8187-1b620c0ab5af.png",k="/kbms/common/1623077689170-8326eccd-df62-4903-85db-b6384a8f522a.png",g={},b=n("h2",{id:"开篇语",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#开篇语"},[n("span",null,"开篇语")])],-1),h=n("p",null,[a("这两天看见有大佬分享使用钉钉和企业微信的机器人来做通知报警，然后我想到了我使用的另一个第三方软件"),n("strong",null,"捷易快信"),a("(可能大家都不知道这个东西，我也忘了我最开始是咋知道的)，该服务的优点是可以通过微信进行提醒，不过每条需要收费0.0080元，但是不要担心每月可能会赠送4元(因为我的就是)，对于我来说，够我玩了。")],-1),v=n("h2",{id:"注册配置",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#注册配置"},[n("span",null,"注册配置")])],-1),f={href:"http://jy.erpit.cn/login",target:"_blank",rel:"noopener noreferrer"},_=n("img",{src:l,alt:"image.png",loading:"lazy"},null,-1),y=n("img",{src:r,alt:"image.png",loading:"lazy"},null,-1),w=n("blockquote",null,[n("p",null,"注意看红框的内容，需要让消息接收方扫码关注该公众号")],-1),x=n("h2",{id:"代码开发",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#代码开发"},[n("span",null,"代码开发")])],-1),z=n("p",null,[a("查看接口文档 "),n("img",{src:d,alt:"image.png",loading:"lazy"}),a(" 找到我们想要的群发消息接口 "),n("img",{src:u,alt:"image.png",loading:"lazy"})],-1),q=n("blockquote",null,[n("p",null,"也可以通过接口添加删除用户，支持给单独用户推送消息等。")],-1),C=n("p",null,"下面开始编写代码，还在原来的项目上进行添加接口操作。",-1),N={href:"https://gitee.com/AZRNG/my-example",target:"_blank",rel:"noopener noreferrer"},S=i(`<p>新建Model类，构建请求参数</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>            <span class="token class-name"><span class="token keyword">var</span></span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SendMessageVm</span>
            <span class="token punctuation">{</span>
                App_key <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
                Secret <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
                Template_id <span class="token operator">=</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
                Data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SendMessDataVm</span>
                <span class="token punctuation">{</span>
                    First <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Details</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token string">&quot;服务告警测试&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    Keyword1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Details</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token string">&quot;告警服务器地址：上海&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    Keyword2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Details</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token string">&quot;原因：数据库连接不上&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    Keyword3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Details</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token string">&quot;当前服务：拼团活动&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    Remark <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Details</span> <span class="token punctuation">{</span> Value <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$&quot;当前时间</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">DateTime<span class="token punctuation">.</span>Now</span><span class="token format-string"><span class="token punctuation">:</span>yy:MM:dd HH:mm:ss</span><span class="token punctuation">}</span></span><span class="token string"> 请工程师尽快查看！&quot;</span></span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Model类有点长就不粘贴了，需要的话可以去下载源码查看。</p></blockquote><p>通过post形式去请求该接口，本次示例为了方便起见，我直接使用了自己学习使用的Nuget包：<strong>Common.RestSharpClient</strong> ConfigureServices注入服务</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>services<span class="token punctuation">.</span><span class="token function">AddHttpClientService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>控制器依赖注入服务</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code>        <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IHttpClientHelper</span> _httpClientHelper<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">InformController</span><span class="token punctuation">(</span><span class="token class-name">IHttpClientHelper</span> httpClientHelper<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _httpClientHelper <span class="token operator">=</span> httpClientHelper<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请求接口</p><div class="language-csharp line-numbers-mode" data-ext="cs" data-title="cs"><pre class="language-csharp"><code><span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> _httpClientHelper<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">PostAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&quot;http://jy.erpit.cn/api/message/send&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ConfigureAwait</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>请求返回参数 <img src="`+m+'" alt="image.png" loading="lazy"> 查看微信是否有消息通知 <img src="'+k+'" alt="image.png" loading="lazy"> 本次示例到此结束。</p><h2 id="结束" tabindex="-1"><a class="header-anchor" href="#结束"><span>结束</span></a></h2><p>通过这次演示才发现还可以推荐用户，然后将得到您推荐用户消费金额的10%作为奖励，不过免费的已经够我用了，哈哈。我也想像那些大佬一样为社区做出一些贡献，为dotNet社区发展添砖加瓦，虽然我菜，但是我可以搬砖呀，搬砖也是做贡献的。</p>',12);function H(T,V){const s=o("ExternalLinkIcon");return p(),c("div",null,[b,h,v,n("p",null,[a("访问网址："),n("a",f,[a("http://jy.erpit.cn/login"),t(s)]),_,a(" 我是直接使用的微信进行登录的，看个人爱好进行登录。 下面模拟一个服务器告警来做一个演示消息通知。 "),y]),w,x,z,q,C,n("blockquote",null,[n("p",null,[a("代码仓库地址："),n("a",N,[a("https://gitee.com/AZRNG/my-example"),t(s)]),a(" 需要请自取")])]),S])}const Z=e(g,[["render",H],["__file","notificationService.html.vue"]]),A=JSON.parse('{"path":"/middleware/notification/notificationService.html","title":"简单通知服务","lang":"zh-CN","frontmatter":{"title":"简单通知服务","lang":"zh-CN","date":"2023-07-09T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["middleware"],"tag":["无"],"filename":"jianchantongzhifuwu","slug":"qigygp","docsId":"46757338","description":"开篇语 这两天看见有大佬分享使用钉钉和企业微信的机器人来做通知报警，然后我想到了我使用的另一个第三方软件捷易快信(可能大家都不知道这个东西，我也忘了我最开始是咋知道的)，该服务的优点是可以通过微信进行提醒，不过每条需要收费0.0080元，但是不要担心每月可能会赠送4元(因为我的就是)，对于我来说，够我玩了。 注册配置 访问网址：http://jy.er...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/middleware/notification/notificationService.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"简单通知服务"}],["meta",{"property":"og:description","content":"开篇语 这两天看见有大佬分享使用钉钉和企业微信的机器人来做通知报警，然后我想到了我使用的另一个第三方软件捷易快信(可能大家都不知道这个东西，我也忘了我最开始是咋知道的)，该服务的优点是可以通过微信进行提醒，不过每条需要收费0.0080元，但是不要担心每月可能会赠送4元(因为我的就是)，对于我来说，够我玩了。 注册配置 访问网址：http://jy.er..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1623074832782-048ef9a4-e41c-4fbf-ad27-840cf1813f57.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-19T14:00:28.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-07-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-19T14:00:28.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"简单通知服务\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1623074832782-048ef9a4-e41c-4fbf-ad27-840cf1813f57.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1623075258900-dda3a98c-8190-46e8-a30f-2dbfcc6d52f2.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1623075610320-d9b28f44-5067-424a-b7b9-7abb160b5c26.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1623076386321-7f9bc26c-1136-44fc-958a-756b10641178.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1623077634012-53139f69-8c9d-4eb6-8187-1b620c0ab5af.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1623077689170-8326eccd-df62-4903-85db-b6384a8f522a.png\\"],\\"datePublished\\":\\"2023-07-09T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-19T14:00:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"开篇语","slug":"开篇语","link":"#开篇语","children":[]},{"level":2,"title":"注册配置","slug":"注册配置","link":"#注册配置","children":[]},{"level":2,"title":"代码开发","slug":"代码开发","link":"#代码开发","children":[]},{"level":2,"title":"结束","slug":"结束","link":"#结束","children":[]}],"git":{"createdTime":1697724028000,"updatedTime":1697724028000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":1}]},"readingTime":{"minutes":2.33,"words":699},"filePathRelative":"middleware/notification/notificationService.md","localizedDate":"2023年7月9日","excerpt":"<h2>开篇语</h2>\\n<p>这两天看见有大佬分享使用钉钉和企业微信的机器人来做通知报警，然后我想到了我使用的另一个第三方软件<strong>捷易快信</strong>(可能大家都不知道这个东西，我也忘了我最开始是咋知道的)，该服务的优点是可以通过微信进行提醒，不过每条需要收费0.0080元，但是不要担心每月可能会赠送4元(因为我的就是)，对于我来说，够我玩了。</p>\\n<h2>注册配置</h2>\\n<p>访问网址：<a href=\\"http://jy.erpit.cn/login\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">http://jy.erpit.cn/login</a>\\n<img src=\\"/common/1623074832782-048ef9a4-e41c-4fbf-ad27-840cf1813f57.png\\" alt=\\"image.png\\" loading=\\"lazy\\">\\n我是直接使用的微信进行登录的，看个人爱好进行登录。\\n下面模拟一个服务器告警来做一个演示消息通知。\\n<img src=\\"/common/1623075258900-dda3a98c-8190-46e8-a30f-2dbfcc6d52f2.png\\" alt=\\"image.png\\" loading=\\"lazy\\"></p>","autoDesc":true}');export{Z as comp,A as data};
