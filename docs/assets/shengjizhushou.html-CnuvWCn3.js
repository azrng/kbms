import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as a,d as e}from"./app-CHE8a282.js";const t="/kbms/common/1649992687783-91bb6b3e-28ca-4271-8b8a-948c3b25c82e.png",n="/kbms/common/1649992740859-8f7e572c-5b2b-49fd-a53b-e2e80db81c3e.png",h="/kbms/common/1649993159415-9995847b-0cda-4f2b-8203-ec7255ae18bd.png",l={},r=e('<h2 id="说明" tabindex="-1"><a class="header-anchor" href="#说明"><span>说明</span></a></h2><p>.NET 升级助手是一款可以在不同类型的 .NET Framework 应用上运行的命令行工具。 它旨在帮助将 .NET Framework 应用升级到 .NET 6。 在运行此工具后，大多数情况下，应用将需要其他操作才能完成迁移。 此工具会安装可以帮助完成迁移的分析器。 该工具目前支持下列 .NET Framework 应用类型：</p><ul><li>.NET Framework Windows 窗体应用</li><li>.NET Framework WPF 应用</li><li>.NET Framework ASP.NET MVC 应用</li><li>.NET Framework 控制台应用</li><li>.NET Framework 类库</li></ul><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>.NET 升级助手是一个 .NET 工具，可以使用以下命令进行全局安装：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">dotnet tool install -g upgrade-assistant</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>同样地，由于 .NET 升级助手是作为 .NET 工具安装的，因此运行以下命令可以轻松地更新它：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">dotnet tool update -g upgrade-assistant</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="操作" tabindex="-1"><a class="header-anchor" href="#操作"><span>操作</span></a></h2><h3 id="winform" tabindex="-1"><a class="header-anchor" href="#winform"><span>winform</span></a></h3><h4 id="运行升级助手" tabindex="-1"><a class="header-anchor" href="#运行升级助手"><span>运行升级助手</span></a></h4><p>导航到包含项目或解决方案的目录，并运行以下命令:</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">assistant</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> analyze</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Path</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> csproj</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> or</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> sln</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>将此页命令上的 <code>&lt;Path to csproj or sln to upgrade&gt;</code> 更改为解决方案或项目文件的路径和名称。</p></blockquote><p>然后将生成 SARIF 格式的报告 JSON 格式。 分析项目依赖项后，运行以下命令以开始升级项目</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">assistant</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Path</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> csproj</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> or</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> sln</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="选择入口项目" tabindex="-1"><a class="header-anchor" href="#选择入口项目"><span>选择入口项目</span></a></h4><p>第一步是选择解决方案中的哪个项目作为入口点项目，选择1 <img src="'+t+'" alt="image.png" loading="lazy"> 因为这个项目升级的是开源项目DBCHM(个人基于该项目准备做一些自定义操作)，所以选择入口项目 <img src="'+n+'" alt="image.png" loading="lazy"> 再次输入1然后等待完成。</p><h4 id="选择升级项目" tabindex="-1"><a class="header-anchor" href="#选择升级项目"><span>选择升级项目</span></a></h4><p>根据提示一个一个选择要升级的项目 <img src="'+h+`" alt="image.png" loading="lazy"> 下面的步骤有点乱，得一点一点测试，我这边升级到一半无脑enter了。 可参考：<a href="https://docs.microsoft.com/zh-cn/dotnet/core/porting/upgrade-assistant-winforms-framework" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/dotnet/core/porting/upgrade-assistant-winforms-framework</a></p><h2 id="错误" tabindex="-1"><a class="header-anchor" href="#错误"><span>错误</span></a></h2><h3 id="无法还原工具包" tabindex="-1"><a class="header-anchor" href="#无法还原工具包"><span>无法还原工具包</span></a></h3><p>具体错误信息</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">无法还原工具包</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">工具</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">“</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">assistant</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">”</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">安装失败</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">此故障可能由以下原因导致</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 你尝试安装预览版</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">但未使用</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 选项来指定该版本</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 已找到具有此名称的包</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">但是它不是</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">NET</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 工具</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 无法访问所需的</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> NuGet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 源</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">这可能是由于</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> Internet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 连接问题导致</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> 工具名称输入错误</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">有关更多原因</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">包括强制包命名</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)，</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">请访问</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;"> https</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">//aka.ms/failure-installing-tool</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#E06C75;">Description</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  安装全局或本地工具</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">本地工具将被添加到清单并还原</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方案</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" data-title="csharp" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">dotnet</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> tool</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">assistant</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">failed</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">sources</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>资料：<a href="https://github.com/dotnet/upgrade-assistant/issues/1099" target="_blank" rel="noopener noreferrer">https://github.com/dotnet/upgrade-assistant/issues/1099</a></p><h2 id="vs插件" tabindex="-1"><a class="header-anchor" href="#vs插件"><span>VS插件</span></a></h2><p>当下(2023年3月)可以通过安装VS插件来实现可视化升级方案。 插件地址：<a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.upgradeassistant" target="_blank" rel="noopener noreferrer">https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.upgradeassistant</a></p><h2 id="资料" tabindex="-1"><a class="header-anchor" href="#资料"><span>资料</span></a></h2><p>升级助手概述：<a href="https://docs.microsoft.com/zh-cn/dotnet/core/porting/upgrade-assistant-overview" target="_blank" rel="noopener noreferrer">https://docs.microsoft.com/zh-cn/dotnet/core/porting/upgrade-assistant-overview</a> 安装资料：<a href="https://dotnet.microsoft.com/zh-cn/platform/upgrade-assistant/tutorial/install-sdk" target="_blank" rel="noopener noreferrer">https://dotnet.microsoft.com/zh-cn/platform/upgrade-assistant/tutorial/install-sdk</a></p>`,31),p=[r];function k(d,o){return a(),s("div",null,p)}const m=i(l,[["render",k],["__file","shengjizhushou.html.vue"]]),E=JSON.parse('{"path":"/dotnet/xiangmuqianyi/shengjizhushou.html","title":"升级助手","lang":"zh-CN","frontmatter":{"title":"升级助手","lang":"zh-CN","date":"2023-10-18T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dotNET"],"tag":["无"],"filename":"shengjizhushou","slug":"dp5ahh","docsId":"73564980","description":"说明 .NET 升级助手是一款可以在不同类型的 .NET Framework 应用上运行的命令行工具。 它旨在帮助将 .NET Framework 应用升级到 .NET 6。 在运行此工具后，大多数情况下，应用将需要其他操作才能完成迁移。 此工具会安装可以帮助完成迁移的分析器。 该工具目前支持下列 .NET Framework 应用类型： .NET F...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dotnet/xiangmuqianyi/shengjizhushou.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"升级助手"}],["meta",{"property":"og:description","content":"说明 .NET 升级助手是一款可以在不同类型的 .NET Framework 应用上运行的命令行工具。 它旨在帮助将 .NET Framework 应用升级到 .NET 6。 在运行此工具后，大多数情况下，应用将需要其他操作才能完成迁移。 此工具会安装可以帮助完成迁移的分析器。 该工具目前支持下列 .NET Framework 应用类型： .NET F..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/1649992687783-91bb6b3e-28ca-4271-8b8a-948c3b25c82e.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-22T15:51:40.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-10-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-10-22T15:51:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"升级助手\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/1649992687783-91bb6b3e-28ca-4271-8b8a-948c3b25c82e.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1649992740859-8f7e572c-5b2b-49fd-a53b-e2e80db81c3e.png\\",\\"https://azrng.gitee.io/kbms/kbms/common/1649993159415-9995847b-0cda-4f2b-8203-ec7255ae18bd.png\\"],\\"datePublished\\":\\"2023-10-18T00:00:00.000Z\\",\\"dateModified\\":\\"2023-10-22T15:51:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"说明","slug":"说明","link":"#说明","children":[]},{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"操作","slug":"操作","link":"#操作","children":[{"level":3,"title":"winform","slug":"winform","link":"#winform","children":[{"level":4,"title":"运行升级助手","slug":"运行升级助手","link":"#运行升级助手","children":[]},{"level":4,"title":"选择入口项目","slug":"选择入口项目","link":"#选择入口项目","children":[]},{"level":4,"title":"选择升级项目","slug":"选择升级项目","link":"#选择升级项目","children":[]}]}]},{"level":2,"title":"错误","slug":"错误","link":"#错误","children":[{"level":3,"title":"无法还原工具包","slug":"无法还原工具包","link":"#无法还原工具包","children":[]}]},{"level":2,"title":"VS插件","slug":"vs插件","link":"#vs插件","children":[]},{"level":2,"title":"资料","slug":"资料","link":"#资料","children":[]}],"git":{"createdTime":1697962303000,"updatedTime":1697989900000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":2}]},"readingTime":{"minutes":2.6,"words":780},"filePathRelative":"dotnet/xiangmuqianyi/shengjizhushou.md","localizedDate":"2023年10月18日","excerpt":"<h2>说明</h2>\\n<p>.NET 升级助手是一款可以在不同类型的 .NET Framework 应用上运行的命令行工具。 它旨在帮助将 .NET Framework 应用升级到 .NET 6。 在运行此工具后，大多数情况下，应用将需要其他操作才能完成迁移。 此工具会安装可以帮助完成迁移的分析器。\\n该工具目前支持下列 .NET Framework 应用类型：</p>\\n<ul>\\n<li>.NET Framework Windows 窗体应用</li>\\n<li>.NET Framework WPF 应用</li>\\n<li>.NET Framework ASP.NET MVC 应用</li>\\n<li>.NET Framework 控制台应用</li>\\n<li>.NET Framework 类库</li>\\n</ul>","autoDesc":true}');export{m as comp,E as data};
