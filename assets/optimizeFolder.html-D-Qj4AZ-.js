import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as y,e as n,a as A,f as a,b as i,w as t,r as h,o as B}from"./app-BugT5USA.js";const o={};function C(u,s){const l=h("BeautyLibsDir"),k=h("DisableBeauty"),e=h("NoBeautyFlag"),p=h("ForceBeauty"),r=h("DisablePatch"),d=h("BeautyLogLevel");return B(),y("div",null,[s[12]||(s[12]=n(`<h2 id="netcorebeauty" tabindex="-1"><a class="header-anchor" href="#netcorebeauty"><span>NetCoreBeauty</span></a></h2><p>NetCoreBeauty 会将 .NET Core 软件的运行时组件和依赖移动到一个子目录中，让发布文件看起来更简洁漂亮。<br> github：<a href="https://github.com/nulastudio/NetCoreBeauty" target="_blank" rel="noopener noreferrer">https://github.com/nulastudio/NetCoreBeauty</a></p><blockquote><p>NetCoreBeauty 只适用于独立部署发布模式的程序，不要勾选生成单个文件</p></blockquote><p>为项目添加 Nuget 引用：</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dotnet</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> add</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> package</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> nulastudio</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">NetCoreBeauty</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置文件" tabindex="-1"><a class="header-anchor" href="#配置文件"><span>配置文件</span></a></h3><p>编辑项目配置文件（*.csproj）应该和下面的代码类似：</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Project</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Sdk</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Microsoft.NET.Sdk&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">PropertyGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">OutputType</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Exe</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">OutputType</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">TargetFramework</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">netcoreapp2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">TargetFramework</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> beauty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> into</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> sub</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">directory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">default</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> is</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> libs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">quote</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &quot;&quot; </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> contains</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> space</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">要移动到字母名称</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">默认是</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> libs</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> 目录</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">如果需要包含空格</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">请用双引号括起来</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyLibsDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">libraries</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyLibsDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">设置一些你不想被移动或者不能被移动到子目录的文件名</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">支持匹配</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dlls</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> that</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> you</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> don</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">t</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> want</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> be</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> moved</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> or</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> can</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> be</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> moved</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyExcludes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dll1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">lib</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;...</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyExcludes</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> 最终用户不会使用到的文件</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">可以在这里配置隐藏掉</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> dlls</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> that</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> end</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> users</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> never</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> needed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">so</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> hide</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> them</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyHiddens</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">hostfxr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">hostpolicy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">deps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">runtimeconfig</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyHiddens</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> 如果不想执行移动操作</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">可以设置为</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> True</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> True</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> you</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> want</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> disable</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">DisableBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">DisableBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> True</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> you</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> don</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;t want to generate NetCoreBeauty flag file --</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> do</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> not</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> beauty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> twice</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> since</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> there</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> is </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">no</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> flag</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> file</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> determine</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> beauty</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> already</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">NoBeautyFlag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">NoBeautyFlag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ForceBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ForceBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyAfterTasks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyAfterTasks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> True</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> you</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> want</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> disable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">DisablePatch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">False</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">DisablePatch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;!-- </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">valid</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Error</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Detail</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Info</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyLogLevel</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Error</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">BeautyLogLevel</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> 设置仓库镜像</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">，</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">如果你不能链接到</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> GitHub</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> 的话可以采用该设置</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">推荐大陆用户打开这个配置</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">。</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> to</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> repo</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> mirror</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> if</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> you</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> have</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> troble</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> connecting</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> github</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">GitCDN</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">https</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//gitee.com/liesauer/HostFXRPatcher&lt;/GitCDN&gt; --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">GitTree</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">master</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">GitTree</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  &lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">PropertyGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  &lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ItemGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">    &lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">PackageReference</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Include</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;nulastudio.NetCoreBeauty&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.2.9.3&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">  &lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ItemGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;/</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Project</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,8)),A("blockquote",null,[a(l,null,{default:t(()=>s[0]||(s[0]=[i("libraries")])),_:1,__:[0]}),s[6]||(s[6]=i('：配置美化库的目录路径为 "libraries"。该设置指定了美化工具所需要的相关 library 文件所在的目录路径。')),a(k,null,{default:t(()=>s[1]||(s[1]=[i("False")])),_:1,__:[1]}),s[7]||(s[7]=i('：禁用美化功能。当值为 "False" 时，表示不禁用美化功能；当值为 "True" 时，表示禁用美化功能。')),a(e,null,{default:t(()=>s[2]||(s[2]=[i("False")])),_:1,__:[2]}),s[8]||(s[8]=i('：不使用美化标志。当值为 "False" 时，表示不使用美化标志；当值为 "True" 时，表示使用美化标志。')),a(p,null,{default:t(()=>s[3]||(s[3]=[i("False")])),_:1,__:[3]}),s[9]||(s[9]=i('：强制美化。当值为 "False" 时，表示不强制美化；当值为 "True" 时，表示强制美化。')),a(r,null,{default:t(()=>s[4]||(s[4]=[i("False")])),_:1,__:[4]}),s[10]||(s[10]=i('：禁用补丁功能。当值为 "False" 时，表示不禁用补丁功能；当值为 "True" 时，表示禁用补丁功能。')),a(d,null,{default:t(()=>s[5]||(s[5]=[i("Error")])),_:1,__:[5]}),s[11]||(s[11]=i('：日志级别设置为 "Error"。该设置指定了美化工具输出日志的级别，只输出错误级别及以上的日志信息。'))]),s[13]||(s[13]=n(`<p>在你使用 dotnet publish 命令或者 Visual Studio 发布时，移动工作将自动进行。<br> 官方提供了一个测试项目，可以在这里看到源代码：<br><a href="https://github.com/nulastudio/NetCoreBeauty/tree/master/NetCoreBeautyNugetTest" target="_blank" rel="noopener noreferrer">https://github.com/nulastudio/NetCoreBeauty/tree/master/NetCoreBeautyNugetTest</a></p><h3 id="基础操作" tabindex="-1"><a class="header-anchor" href="#基础操作"><span>基础操作</span></a></h3><p>安装nuget包</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">PackageReference</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Include</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;nulastudio.NetCoreBeauty&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.2.9.5&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> /&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在安装nuget的情况下编辑项目文件，增加如下内容</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PropertyGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TargetFramework</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;net8.0&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TargetFramework</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Nullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;enable&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Nullable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ImplicitUsings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;enable&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ImplicitUsings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">InvariantGlobalization</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;true&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">InvariantGlobalization</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">BeautyLibsDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;libraries&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">BeautyLibsDir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DisableBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;False&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DisableBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NoBeautyFlag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;False&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NoBeautyFlag</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ForceBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;False&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ForceBeauty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DisablePatch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;False&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DisablePatch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">BeautyLogLevel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Error&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">BeautyLogLevel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PropertyGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="publishfoldercleaner" tabindex="-1"><a class="header-anchor" href="#publishfoldercleaner"><span>PublishFolderCleaner</span></a></h2><p>独立发布选择非单文件发布的时候，输出文件夹上有超级多个文件，使用 PublishFolderCleaner 工具让发布文件夹只留一个 Exe 和一个 Lib 文件夹，需要安装nuget包</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ItemGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PackageReference</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Include</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;dotnetCampus.PublishFolderCleaner&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;3.0.3&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ItemGroup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后可以使用命令行进行发布</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>如果打包报错了，那么就删除下之前打包好的文件，再次打包尝试</p></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>dotnet publish -r win-x64 -c release --self-contained</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,12))])}const F=g(o,[["render",C]]),b=JSON.parse('{"path":"/dotnet/buildAndRelease/release/optimizeFolder.html","title":"优化部署目录结构","lang":"zh-CN","frontmatter":{"title":"优化部署目录结构","lang":"zh-CN","date":"2023-08-17T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["dotNET"],"tag":["无"],"filename":"youhuabushumulujiegou","slug":"dxuoqf","docsId":"72268439","description":"NetCoreBeauty NetCoreBeauty 会将 .NET Core 软件的运行时组件和依赖移动到一个子目录中，让发布文件看起来更简洁漂亮。 github：https://github.com/nulastudio/NetCoreBeauty NetCoreBeauty 只适用于独立部署发布模式的程序，不要勾选生成单个文件 为项目添加 Nu...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"优化部署目录结构\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-08-17T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-10T09:56:09.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"],["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/dotnet/buildAndRelease/release/optimizeFolder.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"优化部署目录结构"}],["meta",{"property":"og:description","content":"NetCoreBeauty NetCoreBeauty 会将 .NET Core 软件的运行时组件和依赖移动到一个子目录中，让发布文件看起来更简洁漂亮。 github：https://github.com/nulastudio/NetCoreBeauty NetCoreBeauty 只适用于独立部署发布模式的程序，不要勾选生成单个文件 为项目添加 Nu..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-10T09:56:09.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"无"}],["meta",{"property":"article:published_time","content":"2023-08-17T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-10T09:56:09.000Z"}]]},"git":{"createdTime":1697962303000,"updatedTime":1710064569000,"contributors":[{"name":"azrng","username":"","email":"itzhangyunpeng@163.com","commits":4}]},"readingTime":{"minutes":2.94,"words":882},"filePathRelative":"dotnet/buildAndRelease/release/optimizeFolder.md","excerpt":"<h2>NetCoreBeauty</h2>\\n<p>NetCoreBeauty 会将 .NET Core 软件的运行时组件和依赖移动到一个子目录中，让发布文件看起来更简洁漂亮。<br>\\ngithub：<a href=\\"https://github.com/nulastudio/NetCoreBeauty\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://github.com/nulastudio/NetCoreBeauty</a></p>\\n<blockquote>\\n<p>NetCoreBeauty 只适用于独立部署发布模式的程序，不要勾选生成单个文件</p>\\n</blockquote>","autoDesc":true}');export{F as comp,b as data};
