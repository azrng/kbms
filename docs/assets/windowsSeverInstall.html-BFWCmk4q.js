import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as s,d as t}from"./app-DZ9bmjCp.js";const n="/kbms/common/image-20231121092413365.png",a={},r=t(`<h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>若要运行 Windows 容器，必须在计算机上具有受支持的容器运行时。 Windows 当前支持的运行时是 <a href="https://kubernetes.io/docs/setup/production-environment/container-runtimes/#containerd" target="_blank" rel="noopener noreferrer">containerd</a>、<a href="https://mobyproject.org/" target="_blank" rel="noopener noreferrer">Moby</a> 和 <a href="https://info.mirantis.com/docker-engine-support" target="_blank" rel="noopener noreferrer">Mirantis 容器运行时</a>。</p><h2 id="基本要求" tabindex="-1"><a class="header-anchor" href="#基本要求"><span>基本要求</span></a></h2><p>（1）必须是64位操作系统，win7或者更高 （推荐Windows 10/server 2016 因为新版集成了很多新组件） （2）支持“ Hardware Virtualization Technology”，并且，“virtualization ”可用（也就是在BIOS启用VT参数）</p><h2 id="操作" tabindex="-1"><a class="header-anchor" href="#操作"><span>操作</span></a></h2><div class="hint-container tip"><p class="hint-container-title">提示</p><p>下面的操作在windows server 2016上执行</p></div><p>下面来讲解安装docker CE/Moby容器，，微软为我们提供了一个powershell脚本，然后在服务器上搜索Windows PowrShell，然后启动并执行下面的命令</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Invoke-WebRequest</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -UseBasicParsing</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;https://raw.githubusercontent.com/microsoft/Windows-Containers/Main/helpful_tools/Install-DockerCE/install-docker-ce.ps1&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install-docker-ce.ps1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">install-docker-ce.ps1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>报错还没搞好，不多步骤差不多就是这些</p></div><h2 id="其他操作" tabindex="-1"><a class="header-anchor" href="#其他操作"><span>其他操作</span></a></h2><h3 id="powershell更新" tabindex="-1"><a class="header-anchor" href="#powershell更新"><span>powerShell更新</span></a></h3><p>安装windows更新，打开powerShell，然后运行命令</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">sconfig</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="`+n+`" alt="image-20231121092413365" tabindex="0" loading="lazy"><figcaption>image-20231121092413365</figcaption></figure><p>然后选择其中的选项6去安装更新，直接选择选项A下载所有更新并安装。</p><h3 id="install-docker-ce-ps1-请求被中止-未能创建-ssl-tls-安全通道" tabindex="-1"><a class="header-anchor" href="#install-docker-ce-ps1-请求被中止-未能创建-ssl-tls-安全通道"><span>install-docker-ce.ps1 : 请求被中止: 未能创建 SSL/TLS 安全通道</span></a></h3><p>首先查询单签系统中默认启动的协商协议列表</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">Net.ServicePointManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]::SecurityProtocol</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 打印出来应该是不包含Tls12的</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>去下载这个软件 打开软件后 TLS 1.0 和 TLS 1.1 全部勾上，或者点击Best Practices ，然后勾选 Reboot ，点击 Apply ，服务器会重启，重启之后就好了.</p><p>下载地址：https://www.nartac.com/Products/IISCrypto/Download</p><p>如果可以最好，如果不行那么就是用下面的方法。临时方案</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># fix ssl in tyy win10 server 2016</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">System.Net.ServicePointManager</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]::SecurityProtocol </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">System.Net.SecurityProtocolType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]::Tls12;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>https://blog.csdn.net/qq_20679687/article/details/130643546</p><h2 id="资料" tabindex="-1"><a class="header-anchor" href="#资料"><span>资料</span></a></h2><p>windows server设置环境：https://learn.microsoft.com/zh-cn/virtualization/windowscontainers/quick-start/set-up-environment?tabs=dockerce#windows-server</p><p>windows server 安装docker客户端 https://www.cnblogs.com/yangsongyan/p/10882319.html</p>`,26),l=[r];function o(h,p){return s(),i("div",null,l)}const k=e(a,[["render",o],["__file","windowsSeverInstall.html.vue"]]),g=JSON.parse('{"path":"/soft/windows/windowsSeverInstall.html","title":"Windows Server安装docker","lang":"zh-CN","frontmatter":{"title":"Windows Server安装docker","lang":"zh-CN","date":"2023-11-20T00:00:00.000Z","publish":true,"author":"azrng","isOriginal":true,"category":["cloud"],"tag":["docker"],"description":"概述 若要运行 Windows 容器，必须在计算机上具有受支持的容器运行时。 Windows 当前支持的运行时是 containerd、Moby 和 Mirantis 容器运行时。 基本要求 （1）必须是64位操作系统，win7或者更高 （推荐Windows 10/server 2016 因为新版集成了很多新组件） （2）支持“ Hardware Vi...","head":[["meta",{"property":"og:url","content":"https://azrng.gitee.io/kbms/kbms/soft/windows/windowsSeverInstall.html"}],["meta",{"property":"og:site_name","content":"知识库"}],["meta",{"property":"og:title","content":"Windows Server安装docker"}],["meta",{"property":"og:description","content":"概述 若要运行 Windows 容器，必须在计算机上具有受支持的容器运行时。 Windows 当前支持的运行时是 containerd、Moby 和 Mirantis 容器运行时。 基本要求 （1）必须是64位操作系统，win7或者更高 （推荐Windows 10/server 2016 因为新版集成了很多新组件） （2）支持“ Hardware Vi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://azrng.gitee.io/kbms/kbms/common/image-20231121092413365.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-25T12:50:39.000Z"}],["meta",{"property":"article:author","content":"azrng"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:published_time","content":"2023-11-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-25T12:50:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Windows Server安装docker\\",\\"image\\":[\\"https://azrng.gitee.io/kbms/kbms/common/image-20231121092413365.png\\"],\\"datePublished\\":\\"2023-11-20T00:00:00.000Z\\",\\"dateModified\\":\\"2023-11-25T12:50:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"azrng\\"}]}"]]},"headers":[{"level":2,"title":"概述","slug":"概述","link":"#概述","children":[]},{"level":2,"title":"基本要求","slug":"基本要求","link":"#基本要求","children":[]},{"level":2,"title":"操作","slug":"操作","link":"#操作","children":[]},{"level":2,"title":"其他操作","slug":"其他操作","link":"#其他操作","children":[{"level":3,"title":"powerShell更新","slug":"powershell更新","link":"#powershell更新","children":[]},{"level":3,"title":"install-docker-ce.ps1 : 请求被中止: 未能创建 SSL/TLS 安全通道","slug":"install-docker-ce-ps1-请求被中止-未能创建-ssl-tls-安全通道","link":"#install-docker-ce-ps1-请求被中止-未能创建-ssl-tls-安全通道","children":[]}]},{"level":2,"title":"资料","slug":"资料","link":"#资料","children":[]}],"git":{"createdTime":1700474655000,"updatedTime":1700916639000,"contributors":[{"name":"azrng","email":"itzhangyunpeng@163.com","commits":2}]},"readingTime":{"minutes":1.55,"words":466},"filePathRelative":"soft/windows/windowsSeverInstall.md","localizedDate":"2023年11月20日","excerpt":"<h2>概述</h2>\\n<p>若要运行 Windows 容器，必须在计算机上具有受支持的容器运行时。 Windows 当前支持的运行时是 <a href=\\"https://kubernetes.io/docs/setup/production-environment/container-runtimes/#containerd\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">containerd</a>、<a href=\\"https://mobyproject.org/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Moby</a> 和 <a href=\\"https://info.mirantis.com/docker-engine-support\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Mirantis 容器运行时</a>。</p>","autoDesc":true}');export{k as comp,g as data};
